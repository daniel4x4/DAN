void 0===window.Kameleoon&&(!function(){this.kbowser=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n(18);var i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.find=function(e,t){var n,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,i=e.length;n<i;n+=1){var a=e[n];if(t(a,n))return a}},e.assign=function(e){for(var t,n,i=e,a=arguments.length,o=new Array(a>1?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.OS_MAP=t.PLATFORMS_MAP=void 0,t.PLATFORMS_MAP={t:"tablet",m:"mobile",d:"desktop"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",Linux:"Linux"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,a=(i=n(91))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(18);var r=function(){function e(){}var t,n,i;return e.parse=function(e){return new a.default(e).getResult()},t=e,i=[],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();t.default=r,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=s(n(92)),a=s(n(93)),o=s(n(94)),r=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UA parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=r.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=r.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=r.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this},t.getResult=function(){return r.default.assign({},this.parsedResult)},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,a=(i=n(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,r=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=r,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,a=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),r=[{test:[/windows phone/i],describe:function(e){return{name:o.OS_MAP.WindowsPhone}}},{test:[/windows /i],describe:function(e){return{name:o.OS_MAP.Windows}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.MacOS,version:t}}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){return{name:o.OS_MAP.Android}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}}];t.default=r,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,(i=n(17))&&i.__esModule;var i,a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot"}}},{test:[/huawei/i],describe:function(e){return{type:a.PLATFORMS_MAP.m}}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){return{type:a.PLATFORMS_MAP.m}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:function(e){return"android"===e.getOSName(!0)&&Number(String(e.getOSVersion()).split(".")[0])>=3},describe:function(){return{type:a.PLATFORMS_MAP.t}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.m}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.d}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.d}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.d}}}];t.default=o,e.exports=t.default}});class e{constructor(e){this.generationTime=e.scriptProduceTime,this.goals=e.goals.map((e=>new a(e))),this.singlePageSupport=Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.singlePageSupport:e.singlePageSupport,this.siteCode=e.siteCode}}class t{constructor(e,t){const n=0===t,i=Kameleoon.Internals.runtime.Visitor.currentVisit,r=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer",n?"experimentsTriggered":"personalizationsTriggered",{});this.dateLaunched=e.dateStatusModified,this.dateModified=e.dateModified,this.id=e.id,this.name=e.name,this.targetSegment=new o(e.targetingSegment),this.active=e.targeting&&!e.disabled&&e.displayedVariation&&null!=e.displayedVariation.id,this.triggered=e.targeting||!1,this.goals=Kameleoon.Internals.configuration.goals.filter((t=>-1!=(e.goals||[]).indexOf(t.id))).map((e=>new a(e))),this.untrackedTrafficReallocationTime=e.untrackedRespoolTime||null,this.triggeredInVisit=!!r[this.id];const l=e=>Kameleoon.Internals.runtime.variations.filter((t=>t.id==e))[0];if(n){this.mainGoal=e.kameleoonTracking&&e.kameleoonTracking.mainGoalId?new a(Kameleoon.Internals.configuration.goals.filter((t=>t.id==e.kameleoonTracking.mainGoalId))[0]):null;let t=l(e.registeredVariationId);this.associatedVariation=t?new s(t,e):null,this.trafficDeviation={},this.variations=[],this.redirectProcessed=e.redirectProcessed||!1;for(let t in e.deviation)this.trafficDeviation[t]=100*e.deviation[t],this.variations.push(new s(l(parseInt(t)),e));this.activatedInVisit=!!i.ExperimentActivations[this.id]}else this.mainGoal=new a(Kameleoon.Internals.configuration.goals.filter((t=>t.id==e.mainGoalId))[0]),this.associatedVariation=new s(l(e.associatedVariation.id),e),this.activatedInVisit=!(!this.triggeredInVisit||!i.PersonalizationActivations[this.id])}}class n{constructor(e,n,i){const a=0===e,o=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(n,a),r=a?"ExperimentActivations":"PersonalizationActivations",l=i[r][n].associatedVariationID,c=Kameleoon.Internals.configuration.variations.filter((e=>e.id==l))[0];a?(this.experimentID=n,this.experiment=o?new t(o,0):null):(this.personalizationID=n,this.personalization=o?new t(o,1):null),this.times=i[r][n].times,this.associatedVariationID=l,this.associatedVariation=c?new s(c,o):null}}class i{constructor(e){const n=0===e,i=()=>Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(e):[],a=n=>new t(n,e);this.getAll=()=>i().map(a),this.getActive=()=>i().filter((e=>(!0===e.targeting||e.trackingPerformed)&&1!=e.disabled&&e.displayedVariation&&null!=e.displayedVariation.id)).map(a),this.getTriggeredInVisit=()=>i().map(a).filter((e=>e.triggeredInVisit)),this.getActivatedInVisit=()=>i().map(a).filter((e=>e.activatedInVisit));const o=(e,t)=>{const n=i().filter((n=>n[e]==t))[0];return n?a(n):null};this.getById=e=>o("id",e),this.getByName=e=>o("name",e),n?(this.assignVariation=(e,t,n)=>{const a=i().filter((t=>t.id==e))[0];a&&(void 0===a.registeredVariationId||n)&&(a.registeredVariationId=t,a.assignmentTime=(new Date).getTime(),a.writeLocalData())},this.block=(e,t=!1)=>{const i=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,n);if(i){if(t){const t=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);t.push(e),Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedExperiments",t)}i.setBlocked("API")}},this.trigger=(e,t)=>{const i=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,n);i&&(t?i&&(i.performVariationAssignment(!0),Kameleoon.Analyst.Actions.performActionsTracking([i])):(i.trigger(),Kameleoon.Analyst.Actions.process([i])))},this.triggerExperiment=(e,t)=>{this.trigger(e,t)}):(this.block=(e,t=!1)=>{const i=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,n);if(i){if(t){const t=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);t.push(e),Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedPersonalizations",t)}i.blocked=!0}},this.disable=e=>{const t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,n);t&&(t.disabled=!0)},this.trigger=(e,t)=>{const i=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,n);i&&(i.exposition=!0,t?i&&Kameleoon.Analyst.Actions.performActionsTracking([i]):(i.trigger(),Kameleoon.Analyst.Actions.process([i])))})}}class a{constructor(e){e&&(this.id=e.id,this.name=e.name,this.type=e.type)}}class o{constructor(e){e&&(this.id=e.id,this.name=e.name)}}class r{constructor(e,t){this.name=e,this.customFields=t}}class s{constructor(e,t={}){if(e){if(this.id=e.id,this.name=e.name,t.experimentAction){const n=t.variations.filter((t=>t.id==e.id))[0];this.reallocationTime=n?n.respoolTime:null}else this.reallocationTime=null;this.instantiatedTemplate=e.widgetTemplateInputData?new r(e.widgetTemplateName,e.widgetTemplateInputData):null}}}class l{constructor(e){this.pageViews=e.obtainPageNumberViews(),this.duration=e.lastEventDate-e.startDate,this.locale=Kameleoon.Utils.getLocale(),this.startDate=e.startDate,this.index=e.visitNumber,this.currentProduct=null,this.products=[],this.clicks=e.clicks||0,this.pageURLsVisited=e.pageURLsVisited,this.activatedSegments=e.activatedSegments,this.lastEventDate=e.lastEventDate,this.activatedExperiments=Object.keys(e.ExperimentActivations).map((t=>new n(0,parseInt(t),e))),this.activatedPersonalizations=Object.keys(e.PersonalizationActivations).map((t=>new n(1,parseInt(t),e))),e==Kameleoon.Internals.runtime.Visitor.currentVisit&&(this.device=new B,this.geolocation=e.Geolocation),this.conversions=Kameleoon.Utils.clone(e.conversions),this.customData={};const t=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const n in e.customData){const i=t[n];null!=i&&(this.customData[i.name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(n,e.customData[n]))}let i=[],a=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrersIndices",[]);for(let e=0,t=a.length;e<t;e++){let t,n=a[e];if(0==n)t="<RESTART>";else{let e=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n-1];t=null==e?"<OTHER / UNKNOWN>":e.name}i.push(t)}this.acquisitionChannel=i[0],this.landingPageURL=e.landingPageURL,this.weather=e.Weather}}class c{constructor(){this.getCustomDataVisitor=()=>{const e={},t=Kameleoon.Internals.runtime.Visitor.customData,n=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const i in t)n[i]&&(e[n[i].name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(i,t[i]));return e},this.setVisitorCode=e=>{Kameleoon.Internals.runtime.Visitor.setVisitorCode(e)};const{Visitor:e,personalizationsActive:t,Consent:n}=Kameleoon.Internals.runtime;this.numberOfVisits=e.totalVisits,this.timeStartedEldestVisit=e.timeStartedEldestVisit,this.customData=this.getCustomDataVisitor(),this.personalizationsActive=t,this.code=e.currentVisit.visitorCode,this.currentVisit=new l(e.currentVisit),this.visits=e.visits.map((e=>new l(e))),this.previousVisit=e.visits.length>1?new l(e.visits.slice(-2)[0]):null,this.experimentLegalConsent=n.AB_TESTING,this.personalizationLegalConsent=n.PERSONALIZATION,this.productRecommendationLegalConsent=!!Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","productRecommendation"),this.firstVisitStartDate=e.timeStartedEldestVisit}}class d{constructor(){this.initialize=e=>{if(this.isTimeout=!1,window.kameleoonDisplayPage){null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById("kameleoonLoadingStyleSheet")?window.clearTimeout(window.kameleoonDisplayPageTimeOut):null==window.kameleoonEndLoadTime&&(this.isTimeout=!0);try{window.kameleoonDisplayPage(!0)}catch(e){}window.kameleoonDisplayPage=null}window.kameleoonEndLoadTime=(new Date).getTime(),e()},this.load=()=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"load",time:(new Date).getTime()}),Kameleoon.Utils.runProtectedFunction((function(){window.kameleoonQueue&&(window.kameleoonQueue=new N(window.kameleoonQueue,"IMMEDIATE")),window.addEventListener("error",(e=>{if(e.error&&e.error.stack&&e.error.stack.match(/kameleoon/gi))return Kameleoon.Utils.Logger.send(e.error.stack,"kameleoon.js"),!1})),Kameleoon.Analyst.initialize((()=>{const e=Kameleoon.Analyst.checkBlockingElements(),t=window.kameleoonEndLoadTime-(window.kameleoonStartLoadTime||window.kameleoonEndLoadTime)-25;let n=!1;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Loaded",{timeout:"TIMEOUT"==e,loadTime:t}),Kameleoon.Internals.runtime&&(n=!0,Kameleoon.Internals.runtime.clear()),0==e.length?(Kameleoon.Internals.runtime=new f(n),Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Internals.runtime.run()}))):(Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"abort",blockingReason:e}),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Aborted",{reason:e}))}))}))},this.loadKameleoonFull=(e,t)=>{if(Kameleoon.Internals.runtime.kameleoonFull||!this.kameleoonFullNeeded()&&!t)e();else{const t="kameleoonFullApplicationCode",n=t=>{Kameleoon.Utils.runProtectedScript(t+"\n;("+e.toString()+")()","kameleoonFull.js")},i=sessionStorage.getItem(t);if(null!=i)n(i);else{const{STATIC_HOST_NAME:e,DOMAIN:i}=Kameleoon.Internals.configuration;Kameleoon.Utils.performBeaconServerCall("https://"+e+"."+i+"/kameleoon-full.js?cache="+Kameleoon.Utils.obtainRandomString(16),(e=>{(void 0===e.readyState||4==e.readyState&&200==e.status)&&(sessionStorage.setItem(t,e.responseText),n(e.responseText))}))}}},this.Actions=new G,this.Goals=new W}checkBlockingElements(){let e=!1;try{const t="kameleoonPrivateMode";window.localStorage||window.sessionStorage?(localStorage.getItem(t),sessionStorage.getItem(t)):e=!0}catch(t){e=!0}return e?"STORAGE":this.isTimeout?"TIMEOUT":(document.removeEventListener("visibilitychange",Kameleoon.Analyst.load),"prerender"==document.visibilityState?(document.addEventListener("visibilitychange",Kameleoon.Analyst.load),"PRERENDER"):-1!=location.href.indexOf("kameleoonDisabled")?"PARAMETER":"")}kameleoonFullNeeded(){const{parameters:e,simulationMode:t}=Kameleoon.Internals.runtime;return!!(sessionStorage.getItem("kameleoonFullApplicationCode")||sessionStorage.getItem("kameleoonLightExtension")||e.kameleoon||e.kameleoonVariationId||e["kameleoon-simulation"]||e.kameleoonLightExtension||e.kameleoonBuilder||t||Kameleoon.Utils.readLocalData("kameleoonSimulationParameters","COOKIE"))}loadSimulation(e){Kameleoon.Internals.runtime.parameters.kameleoonVariationId||Object.keys(localStorage).forEach((e=>{-1!==e.indexOf("kameleoonVariation-")&&localStorage.removeItem(e)}))}loadVariationFromServer(e,t){}processSimulations(){}}d.CODE_ALPHABET="abcdefghijklmnopqrstuvwxyz0123456789",d.HEXADECIMAL_ALPHABET="0123456789ABCDEF";class m{constructor(){this.Core={enableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.enable(e)},disableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.disable(e)},enableSinglePageSupport:function(){Kameleoon.Internals.runtime.enableSinglePageSupport.apply(Kameleoon.Internals.runtime,arguments)},enableDynamicRefresh:function(){Kameleoon.Internals.runtime.enableDynamicRefresh.apply(Kameleoon.Internals.runtime,arguments)},getConfiguration:()=>new e(Kameleoon.Internals.configuration),load:function(){Kameleoon.Analyst.load.apply(Kameleoon.Analyst,arguments)},processRedirect:function(){Kameleoon.Utils.processRedirect.apply(Kameleoon.Utils,arguments)},runWhenConditionTrue:(e,t,n=200)=>{if(e())Kameleoon.Utils.runProtectedFunction(t,!0);else{const i=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(i),this.Core.runWhenConditionTrue.apply(Kameleoon,[e,t,n])}),n,!0)}},runWhenElementPresent:(e,t,n,i)=>{const a=null==n,o=Kameleoon.Utils.querySelectorAll(e),r=t;if(i&&(t=t=>{J.setMutationObserverSPA();const n=`data-kameleoon-dynamic-class-${Kameleoon.Utils.obtainRandomString(4)}`,i=e=>{e.forEach((e=>e.setAttribute(n,"true")))};i(t),r(t),Kameleoon.Internals.runtime.waitingDynamicElements.push({selector:e,attribute:n,callback:e=>{i(e),r(e)}})}),!Kameleoon.Internals.runtime.querySelectorAllHasError)if(0<o.length)Kameleoon.Utils.runProtectedFunction((()=>{t(o)}),!0);else if(Kameleoon.Internals.runtime.cantUseMutationObserver||!a){const t=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(t),this.Core.runWhenElementPresent.apply(Kameleoon,[e,r,n||200,i])}),n||200,!0)}else Kameleoon.Internals.runtime.waitingElementPresentObjects.push({selector:e,callback:t,useAntiFlicker:a})},runWhenShadowRootElementPresent:(e,t,n,i)=>{this.Core.runWhenElementPresent(e,(a=>{const o=a.filter((e=>e.shadowRoot));if(0===o.length){const a=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearInterval(a),this.Core.runWhenShadowRootElementPresent.apply(Kameleoon,[e,t,n,i])}),150);return}const r=`data-kameleoon-shadow-class-${Kameleoon.Utils.obtainRandomString(4)}`,s=()=>{let e=[];return o.forEach((n=>{n.shadowRoot&&(e=e.concat(Kameleoon.Utils.querySelectorAll(t,n.shadowRoot)))})),i&&(e=e.filter((e=>!e.getAttribute(r))).map((e=>(e.setAttribute(r,"true"),e)))),e},l=s();if(l.length&&n(l),!l.length||i){const e=Kameleoon.Utils.setInterval((()=>{const t=s();t.length&&(n(t),!i&&Kameleoon.Utils.clearInterval(e))}),150)}}))}},this.Goals={cancelConversion:(e,t)=>{try{this.Goals.processConversions(e,t,!0)}catch(e){}},processConversion:(e,t,n)=>{try{this.Goals.processConversions(e,t,!1,n)}catch(e){}},processConversions:(e,t,n,i)=>{for(let a=0;a<Kameleoon.Internals.runtime.goals.length;a++){const o=Kameleoon.Internals.runtime.goals[a];if(e==o.id||e==o.name){Kameleoon.Analyst.Goals.processConversions([{goal:o,revenue:t,negative:n,metadata:i}]);break}}}},this.Data={readLocalData:e=>Kameleoon.Internals.runtime.storedData.Vars[e]?Kameleoon.Internals.runtime.storedData.Vars[e].value:null,resetCustomData:e=>{this.Data.setCustomData(e,[],!0)},retrieveDataFromRemoteSource:(e,t)=>{const n={siteCode:Kameleoon.Internals.configuration.siteCode};let i="map";e instanceof Array?(i="maps",n.keys=encodeURIComponent(JSON.stringify(e))):n.key=encodeURIComponent(e.toString()),Kameleoon.Utils.performBeaconServerCall(Kameleoon.Utils.addParameterToURL(`${Kameleoon.Internals.runtime.DATA_URL}/map/${i}`,Kameleoon.Utils.parseObjectToUrlParams(n),!1),(e=>{if(4==e.readyState){let n={};200==e.status&&(n=JSON.parse(e.responseText)),t&&t(n)}}),null)},setCustomData:(e,t,n=!1)=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.gathererRun){let i=null;for(const t in Kameleoon.Internals.runtime.Gatherer.configuration.customData){const n=Kameleoon.Internals.runtime.Gatherer.configuration.customData[t];if(null!=n&&n.name==e){i=parseInt(t);break}}null!=i&&Kameleoon.Gatherer.CustomData.register(i,{value:t,overwrite:n})}},writeLocalData:(e,t,n)=>{Kameleoon.Internals.runtime.storedData.Vars[e]={value:t,date:(new Date).getTime()+864e5*(n?30:1/24)}},performRemoteSynchronization:(e,t,n)=>{}},this.Events={triggered:[],trigger:e=>{this.Core.runWhenConditionTrue((()=>!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval),(()=>{this.Events.triggered.push(e),Kameleoon.Analyst.Actions&&Kameleoon.Analyst.Actions.processAllActions(),Kameleoon.Targeting&&Kameleoon.Targeting.processAllTargetingSegments()}),100)}},this.Tracking={processOmniture:e=>{Kameleoon.Tracking.processOmniture&&Kameleoon.Tracking.processOmniture(e)}},this.Experiments=new i(0),this.Personalizations=new i(1),this.Segments={getAll:()=>Kameleoon.Internals.runtime.targetingSegments.map((e=>new o(e))),getById:e=>{const t=Kameleoon.Internals.runtime.targetingSegments.filter((t=>t.id==e))[0];return t?new o(t):null},getByName:e=>{const t=Kameleoon.Internals.runtime.targetingSegments.filter((t=>t.name==e))[0];return t?new o(t):null},reevaluate:e=>{let t=-1;const n=Kameleoon.Internals.runtime.targetingSegments||[];for(let i=0;i<n.length;i++){if(n[i].id==e){t=i;break}}if(t>-1){let n;if(n=Kameleoon.Internals.runtime.simulationMode?Kameleoon.Internals.runtime.simulationModeData.targetingSegments.filter((t=>t.id==e))[0]:Kameleoon.Internals.configuration.targetingSegments.filter((t=>t.id==e))[0],n){Kameleoon.Internals.runtime.targetingSegments.splice(t,1);const i=Kameleoon.Utils.clone(n);return Kameleoon.Internals.runtime.targetingSegments.push(i),Kameleoon.Targeting.checkTargetingSegmentsTargeting([i]),Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1)).forEach((t=>{t.setTargetingSegment(e),t.targetingSegmentId==e&&(t.forceTargeting=!1)})),Kameleoon.Analyst.Actions.processAllActions(),i.targeting}}},trigger:e=>{const t=Kameleoon.Internals.runtime.targetingSegments.filter((t=>t.id==e));t.length>0&&(t[0].targeting=!0,Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations")).forEach((t=>{t.targetingSegmentId==e&&(t.targeting=void 0,t.rescheduleTargeting=!0,t.forceTargeting=!0)})),Kameleoon.Analyst.Actions.processAllActions(),Kameleoon.Targeting.processTargetingSegments(t))}},this.Variations={execute:e=>{let t=Kameleoon.Internals.runtime.variations.filter((t=>t.id==e))[0];return t?(t=new $(t),Kameleoon.Utils.addCSSStyleSheet(t.cssCode),t.applyJavascriptCode(!0)):null}},this.Utils={addEventListener:function(e,t,n,i){Kameleoon.Utils.addEventListener(e,t,n,i,!0)},addUniversalClickListener:function(e,t,n){const i=Kameleoon.Internals.runtime.mouseDownEvent;this.addEventListener(e,i,(function(e){Kameleoon.Internals.runtime.touchMoveEvent||"mousedown"!=i&&e.target&&e.target.closest&&e.target.closest("[disabled]")||t&&t(e)}))},clearInterval:function(){Kameleoon.Utils.clearInterval.apply(Kameleoon.Utils,arguments)},clearTimeout:function(){Kameleoon.Utils.clearTimeout.apply(Kameleoon.Utils,arguments)},createHash:function(e){return Kameleoon.Utils.computeStringHash.apply(Kameleoon.Utils,arguments)},getURLParameters:function(){return Kameleoon.Utils.parseParameters.apply(Kameleoon.Utils,arguments)},performRequest:(e,t,n,i=5e3)=>Kameleoon.Utils.performBeaconServerCall(e,t,n,i),querySelectorAll:function(e){return Kameleoon.Utils.querySelectorAll.apply(Kameleoon.Utils,arguments)},setInterval:(e,t=200)=>Kameleoon.Utils.setInterval(e,t,!1,!0),setTimeout:(e,t=200)=>Kameleoon.Utils.setTimeout(e,t,!0)},Object.defineProperty(this.Utils,"mouseDownEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.mouseDownEvent}}),Object.defineProperty(this.Utils,"touchMoveEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.touchMoveEvent}}),Object.defineProperty(this,"Visitor",{enumerable:!0,get:function(){try{return Kameleoon.Internals.runtime?new c:{setVisitorCode:e=>{Kameleoon.Internals.configuration.predefinedVisitorCode=e}}}catch(e){return null}}}),Object.defineProperty(this,"CurrentVisit",{enumerable:!0,get:function(){try{return new l(Kameleoon.Internals.runtime.Visitor.currentVisit)}catch(e){return null}}})}}class u{constructor(){this.MAX_HREF_LENGTH_IN_A_REQUEST=200,this.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST=200}run(e){let t=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer);"string"==typeof t&&(t=JSON.parse(Kameleoon.Utils.decodeString(t))),Kameleoon.Internals.runtime.Gatherer={configuration:t,active:!0,clicks:0},this.Browser=new I(t.browsers),this.CustomData=new b(t.customData),this.KeyPage=new S(t.keyPages),this.Language=new w,this.OperatingSystem=new _(t.oss),this.Referrer=new C(t.referrers),this.TimeZone=new A,Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",0),Kameleoon.Internals.runtime.Visitor=new te,e(),this.track(U),this.track(R),k.initialize(),this.CustomData.run(),Kameleoon.Internals.runtime.gathererRun=!0}startNewVisit(e,t){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!0,!0,t),this.track(U),this.track(R),this.CustomData.run()}track(e,t){new T(e).track(t)}}class g{constructor(){this.Analyst=new d,this.API=new m,this.Gatherer=new u,this.Loader=new h,this.Widget=new p,this.Targeting=new Y,this.Tracking=new Q,this.Utils=new v}}class h{constructor(){this.enableKameleoonEditorListener=()=>{if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=!0;const e=e=>{e||(e=window.event),Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,e)};Kameleoon.Utils.addEventListener(document,"keyup",e,!1)}},this.listenKeys=e=>{e.shiftKey&&(113==e.keyCode&&Kameleoon.Internals.configuration.webExperimentationSetup&&(Kameleoon.Internals.runtime.editorMode=!0,Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)}),!0)),115==e.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection)&&Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableSimulationPanel()}),!0))}}}class p{constructor(){this.sendSurveyData=e=>{0===e.length?Kameleoon.Gatherer.track(P,{}):e.forEach((e=>Kameleoon.Gatherer.track(P,e)))}}}class f{constructor(e){this.isReloaded=e,this.DATA_URL=Kameleoon.Internals.configuration.DATA_URL,this.PAGE_LOADED_POLL_DELAY=250,this.PAGE_LOADING_POLL_DELAY=75,this.enableSinglePageSupport=()=>{this.singlePageSupport=!0,this.href=window.location.href,J.setMutationObserverSPA(),Kameleoon.Utils.setInterval((()=>{const e=this.href;this.href=window.location.href,e!=this.href&&(Kameleoon.Gatherer.Referrer.update(e),Kameleoon.Analyst.load.apply(this,[]))}),100)},this.enableDynamicRefresh=()=>{this.dynamicRefresh=!0,J.setMutationObserverSPA()},this.executeGlobalScript=()=>{this.editorMode||this.kameleoonSelectionIframeMode||Kameleoon.Internals.configuration.globalScript&&!this.globalScriptProcessed&&(Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"globalScript"}),this.globalScriptProcessed=!0,Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.configuration.globalScript,"kameleoonGlobalScript.js"))},this.initializePredefinedVisitorCode=()=>{const{predefinedVisitorCode:e,experiments:t,personalizations:n}=Kameleoon.Internals.configuration;if(e){const i="kameleoonVisitorCode";if((Kameleoon.Utils.readLocalData(i,"COOKIE")||Kameleoon.Utils.readLocalData(i,"LS"))==e)return;const a=this.storedData.Visitor.visits;a&&(a.slice(-1)[0].visitorCode=e),this.incomingStoredData&&(this.incomingStoredData[i]=e),Kameleoon.Utils.saveVisitorCode(e),t.forEach((e=>{Kameleoon.Utils.eraseLocalData("kameleoonExperiment-"+e.id,null,"LS")})),n.forEach((e=>{Kameleoon.Utils.eraseLocalData("kameleoonPersonalization-"+e.id,null,"LS")}))}},this.initializeActions=()=>{Kameleoon.Internals.configuration.webExperimentationSetup&&(this.targetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.targetingSegments),this.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations),Kameleoon.Internals.configuration.experiments.forEach((e=>{this.Campaigns.addCampaign(new q(e,this.incomingStoredData))})),Kameleoon.Internals.configuration.personalizations.forEach((e=>{this.Campaigns.addCampaign(new X(e,this.incomingStoredData))})))},this.initializeActionsAfterGatherer=()=>{Kameleoon.Internals.configuration.webExperimentationSetup&&X.setGlobalPersonalizationDeviation()},this.initializeIdleTimeListener=()=>{},this.initializeListeners=()=>{Kameleoon.Utils.domReady((()=>{if(this.domReady=!0,!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys&&Kameleoon.Loader.enableKameleoonEditorListener(),this.kameleoonSelectionIframeMode){const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("charset","utf-8"),e.setAttribute("src","https://back-office-redesign."+Kameleoon.Internals.configuration.DOMAIN+"/get-script?type=selection"),this.headNode.appendChild(e)}0==window.kameleoonLightIframe&&window.kameleoonIframeURL&&this.Gatherer.startOfVisit&&Kameleoon.Utils.setTimeout((()=>{const e=document.createElement("iframe");e.src=window.kameleoonIframeURL,e.id="kameleoonExternalIframe",e.style.cssFloat="left !important",e.style.opacity="0.0 !important",e.width="0px",e.height="0px",e.onload=()=>{e.parentNode.removeChild(e)},document.head.appendChild(e)}),5e3)})),"touchend"==this.mouseDownEvent&&(Kameleoon.Utils.addEventListener(document,"touchmove",(e=>{this.touchMoveEvent=!0})),Kameleoon.Utils.addEventListener(document,"touchstart",(e=>{this.touchMoveEvent=!1}))),this.iframeLocalStorage||window.addEventListener("storage",(e=>{const t=null==e.key?[""]:e.key.split("-");let n=t[0];if(-1!=n.indexOf("kameleoon")){if(window.document.hasFocus())return;let i;try{i=null==e.newValue?null:JSON.parse(e.newValue).value}catch(e){return}const a={};switch(n){case"kameleoonExperiment":a.type=n;const e=t[1];let o;if(a.experimentId=parseInt(e),null==i)o=null;else{const e=i.split("/")[0];o=isNaN(e)?e:parseInt(e)}a.registeredVariationId=o;break;case"kameleoonGlobalPersonalizationExposition":a.type=n,a.active=null==i?null:"true"==i.split("/")[0];break;case this.dataKeyName:case"kameleoonSimulationVisitorData":a.type=n,a.value=null==i?null:i;break;case"kameleoonLegalConsent":a.type=n,a.saveLegalConsent=null==i?null:i}null!=a.type&&Kameleoon.Utils.processStorageData(a)}}),!1)},this.loadExternalRequests=()=>{this.Geolocation=void 0!==z?new z:null,this.Weather="undefined"!=typeof Weather?new Weather:null,this.IP="undefined"!=typeof IP?new IP:null},this.loadAudienceSegments=()=>{const{useOpportunitySegments:e,siteCode:t,SITE_RESOURCES_DOMAIN:n}=Kameleoon.Internals.configuration;e&&this.RequestManager.addCallback((()=>{const e=window.kameleoonCustomConfigurationURL||`https://${t}.${n}/`;Kameleoon.Utils.performBeaconServerCall(e+"audiences/segments.js",(e=>{4==e.readyState&&200==e.status&&(Kameleoon.Utils.runProtectedScript(e.responseText,"kameleoonAudiencesSegments.js"),this.audienceSegments&&(this.audienceSegments.forEach((e=>{e.opportunityDetection=!0,null==Kameleoon.Targeting.segments[e.id]&&(Kameleoon.Targeting.segments[e.id]=e,this.targetingSegments.push(e))})),Kameleoon.Targeting.processTargetingSegments(this.audienceSegments)))}))}))},this.loadProductRecommendation=()=>{},this.processPageLoaded=()=>{Kameleoon.Utils.removeBlockingStyleSheet();for(let e=0,t=this.variations.length;e<t;++e){const t="enginePollerForVariation"+this.variations[e].id;this[t]&&(this.cantUseMutationObserver&&window.clearInterval(this[t]),this[t]=null)}},this.readFromStorageOrExternal=(e,t)=>this.incomingStoredData?this.incomingStoredData[e]:Kameleoon.Utils.readLocalData(e,t,!0),this.setup=()=>{const e="adBlockerCheck",t=Kameleoon.Utils.setInterval((()=>{let n=document.getElementById(e);null==n&&null!=document.body&&(n=document.createElement("div"),n.id=e,n.className="ad-placement",document.body.appendChild(n)),null!=n&&0==n.clientWidth&&(this.adBlocker=!0,Kameleoon.Utils.clearInterval(t))}),250),n=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(n);const i=document.getElementById(e);null!=i&&i.parentNode.removeChild(i),null==this.adBlocker?(Kameleoon.Utils.clearInterval(t),this.adBlocker=!1):Kameleoon.Gatherer.track(E)}),2e3);Kameleoon.Utils.addEventListener(window,"pageshow",(e=>{e.persisted&&this.updateAfterPageCached()})),this.Visitor.updateFromStoredData(!1,!1,!1),Kameleoon.Internals.configuration.requestsAfterConsent||this.loadExternalRequests(),J.setMutationObserver(),Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Analyst.loadSimulation()})),Kameleoon.Analyst.Actions.processAllActions(),Kameleoon.Targeting.processAllTargetingSegments(),Kameleoon.Analyst.Goals.checkKameleoonGoals(),this.loadAudienceSegments()},this.setupLocalData=e=>{Kameleoon.Utils.addEventListener(window,"message",Kameleoon.Utils.processMessageEvent,!1),this.iframeLocalStorage?(this.externalIframe=document.getElementById("kameleoonExternalIframe")||window.kameleoonExternalIframe,this.postMessageOrigin=window.kameleoonIframeOrigin||"",this.postMessageCallbacks={},null==Kameleoon.Internals.configuration.externalIframeData?Kameleoon.Utils.postMessageToExternalIframe("retrieve",null,null,(t=>{this.incomingStoredData=t,e()})):(this.incomingStoredData=Kameleoon.Internals.configuration.externalIframeData,e(),delete Kameleoon.Internals.configuration.externalIframeData)):(this.incomingStoredData=null,this.clearOutdatedStorage(),e())},this.updateAfterPageCached=()=>{if(this.pageCached=!0,this.iframeLocalStorage)Kameleoon.Utils.postMessageToExternalIframe("retrieve",null,null,(()=>{}));else{const e=Kameleoon.Utils.readLocalData(this.simulationMode?"kameleoonSimulationVisitorData":this.dataKeyName,"LS",!0);this.storedData.update(e),this.Visitor.updateFromStoredData(!1,!1,!1),Kameleoon.Gatherer.track(U)}},this.clearOutdatedStorage=()=>{try{for(let e=0,t=localStorage.length;e<t;e++){const t=localStorage.key(e);if(0===t.indexOf("kameleoon")){const e=JSON.parse(localStorage.getItem(t));this.pageStartTime>(e.date||e.expirationDate)&&localStorage.removeItem(t)}}}catch(e){}},this.getSimulationMode=()=>!!this.readFromStorageOrExternal("kameleoonSimulation","LS"),this.pageStartTime=(new Date).getTime(),this.dataKeyName="kameleoonData",this.Device=new B,this.deviceType=this.Device.type,this.parameters=Kameleoon.Utils.parseParameters(),this.beforeUnloadEvent="Phone"===this.deviceType&&"Safari"===this.Device.browser?"pagehide":"beforeunload",this.headNode=document.getElementsByTagName("head")[0],this.editorMode="true"==this.parameters.kameleoon,this.proxyMode="proxy."+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname,this.disableCache="true"==this.parameters.kameleoonDisableCache||this.parameters.kameleoonVariationId,this.kameleoonSelectionIframeMode="true"==this.parameters.kameleoonSelectionIframeMode,this.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport,this.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe,0!=window.kameleoonLightIframe&&null!=window.kameleoonLightIframe||(this.iframeLocalStorage=!1),this.mouseDownEvent="ontouchend"in document.documentElement?"touchend":"mousedown",this.addedClasses={},this.addedIDs={},this.eventListeners=[],this.listenVariations=[],this.listenSpaCallbacks=[],this.waitingElementPresentObjects=[],this.waitingDynamicElements=[],this.variations=[],this.intervalIds={},this.targetingSegments=[],this.timeoutIds={},this.goals=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.goals),this.cantUseMutationObserver="undefined"==typeof MutationObserver,this.Campaigns=new F,this.Consent=new j,e&&Kameleoon.Gatherer.Referrer&&Kameleoon.Gatherer.Referrer.isUpdated&&(this.prevSpaPage=Kameleoon.Gatherer.Referrer.obtain()),Object.defineProperty(this,"experiments",{get(){return this.Campaigns.obtainCampaignsList(0)}}),Object.defineProperty(this,"personalizations",{get(){return this.Campaigns.obtainCampaignsList(1)}})}clear(){this.eventListeners.forEach((e=>{let t;"window"==e.elementKey||"document"==e.elementKey?t="window"==e.elementKey?window:document:(t=document.querySelector(`[kameleoonListener-${e.elementKey}=true]`),t&&t.removeAttribute(`kameleoonListener-${e.elementKey}`)),t&&t.removeEventListener(e.eventType,e.actionFunction,e.useCapture)})),this.waitingDynamicElements.forEach((e=>{Kameleoon.Utils.querySelectorAll(`[${e.attribute}=true]`).forEach((t=>{t.removeAttribute(e.attribute)}))}));for(const e in this.timeoutIds)Kameleoon.Utils.clearTimeout(parseInt(e));for(const e in this.intervalIds)Kameleoon.Utils.clearInterval(parseInt(e));this.RequestManager&&this.RequestManager.processRequests(),this.storedData&&this.storedData.save(!0),null!=this.mutationObserver&&this.mutationObserver.disconnect(),null!=this.mutationObserverSpa&&this.mutationObserverSpa.disconnect(),Kameleoon.Targeting&&(Kameleoon.Targeting.segments={});let e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonElement'], [id*='kameleoonScenarioLayerBase'], [id^='kameleoonStyleSheet'], [class*='kameleoonWidget']");for(let t=0;t<e.length;++t)e[t].parentNode.removeChild(e[t]);e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonId'], .kameleoonOverlay");for(let t=0;t<e.length;++t)e[t].removeAttribute("id");e=Kameleoon.Utils.querySelectorAll("[class^='kameleoonClass']");for(let t=0;t<e.length;++t)e[t].removeAttribute("class");this.storedData&&this.storedData.save(!0),Kameleoon.API.Events.triggered=[]}run(){this.running=!0,Kameleoon.Utils.removeBlockingStyleSheet(),this.setupLocalData((()=>{this.simulationMode=this.getSimulationMode(),this.storedData=new y(this.incomingStoredData),this.Consent.setup(),this.initializePredefinedVisitorCode(),this.initializeActions(),Kameleoon.Gatherer.run((()=>{this.RequestManager=new Z})),this.initializeActionsAfterGatherer(),this.executeGlobalScript(),window.kameleoonQueue=new N(window.kameleoonQueue),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Started",{newVisitorCode:1==this.Visitor.visits.length}),this.initializeListeners(),this.setup(),this.setupAfterLocalDataRetrieval=!0}))}}class v{constructor(){this.events=[],this.addParameterToURL=(e,t,n)=>{if(n)return e+(-1==e.indexOf("#")?"#":"&")+t;let i="";return-1!=e.indexOf("#")&&(i=e.substr(e.indexOf("#")),e=e.substr(0,e.indexOf("#"))),e+=(-1==e.indexOf("?")?"?":"&")+t+i},this.computeCurrentPageAbsoluteURLNoProxyMode=function(){let e=Kameleoon.Internals.runtime;if(null==e.currentPageAbsoluteURLNoProxyMode){if(e.proxyMode){let t=e.parameters.kameleoonExperimentId||e.parameters["kameleoon-experiment-id"];if(null!=t){let n=e.Campaigns.obtainCampaign(t,!0);n&&(e.currentPageAbsoluteURLNoProxyMode=n.baseURL)}}null==e.currentPageAbsoluteURLNoProxyMode&&(e.currentPageAbsoluteURLNoProxyMode=window.location.href)}return e.currentPageAbsoluteURLNoProxyMode},this.computeCurrentPageCanonicalURL=()=>{if(null==Kameleoon.Internals.runtime.currentPageCanonicalURL){let e=this.querySelectorAll('link[rel="canonical"]');e.length>0&&(Kameleoon.Internals.runtime.currentPageCanonicalURL=e[0].href)}return Kameleoon.Internals.runtime.currentPageCanonicalURL},this.computeCurrentPageCleanRelativeURL=()=>(null==Kameleoon.Internals.runtime.currentPageCleanRelativeURL&&(Kameleoon.Internals.runtime.currentPageCleanRelativeURL=this.computeRelativeURL(this.computeCurrentPageCleanAbsoluteURL())),Kameleoon.Internals.runtime.currentPageCleanRelativeURL),this.computeIfSuffix=(e,t)=>{let n=e.length-t.length,i=e.lastIndexOf(t,n);return i>=0&&i==n},this.computeRelativeURL=e=>{let t=document.createElement("a");return t.href=e,t.pathname+t.search+t.hash},this.computeStringSha256=e=>{let t,n=1,i=[],a=[];for(;++n<18;)for(t=n*n;t<312;t+=n)i[t]=1;function o(e,t){return Math.pow(e,1/t)%1*4294967296|0}for(n=1,t=0;n<313;)i[++n]||(a[t]=o(n,2),i[t++]=o(n,3));function r(e,t){return e>>>t|e<<32-t}let s,l,c,d=a.slice(n=0),m=this.encodeUTF8(e),u=[],g=m.length,h=[];for(;n<g;)h[n>>2]|=(255&m.charCodeAt(n))<<8*(3-n++%4);for(g*=8,h[g>>5]|=128<<24-g%32,h[c=g+64>>5|15]=g,n=0;n<c;n+=16){for(s=d.slice(t=0,8);t<64;s[4]+=l){let e;u[t]=t<16?h[t+n]:(r(l=u[t-2],17)^r(l,19)^l>>>10)+(0|u[t-7])+(r(l=u[t-15],7)^r(l,18)^l>>>3)+(0|u[t-16]),s.unshift((l=(s.pop()+(r(e=s[4],6)^r(e,11)^r(e,25))+((e&s[5]^~e&s[6])+i[t])|0)+(0|u[t++]))+(r(g=s[0],2)^r(g,13)^r(g,22))+(g&s[1]^s[1]&s[2]^s[2]&g))}for(t=8;t--;)d[t]=s[t]+d[t]}for(m="";t<63;)m+=(d[++t>>3]>>4*(7-t%8)&15).toString(16);return m},this.computeURLNoKameleoonParameters=e=>{let t=!1;for(let n in Kameleoon.Internals.runtime.parameters)-1!=n.indexOf("kameleoon")&&(t=!0,e=e.replace(new RegExp(n+"="+Kameleoon.Internals.runtime.parameters[n]+"&?"),""));return t?e.replace(/\?$/,""):e},this.computeURLRegExpNoKameleoonParameters=e=>e?e.replace(/(\\\?|&|#)kameleoon[^&#()]*/g,""):null,this.createLocalData=(e,t,n,i,a,o,r,s)=>{const l="COOKIE"!=a,c=(new Date).getTime(),d=c+24*n*60*60*1e3;if(!s&&!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let s=l?"LS":"COOKIE";return null==Kameleoon.Internals.runtime.localDataMap&&(Kameleoon.Internals.runtime.localDataMap={}),null==Kameleoon.Internals.runtime.localDataMap[s]&&(Kameleoon.Internals.runtime.localDataMap[s]={}),Kameleoon.Internals.runtime.localDataMap[s][e]={name:e,value:t,days:n,domain:i,forceLocalAccess:a,jsonFormat:o,creationTime:c},void(l&&r&&r())}if(l){const n={value:v.LOCAL_STORAGE_OBFUSCATED_KEYS[e]&&this.obfuscateString(JSON.stringify(t))||t,expirationDate:d};if(Kameleoon.Internals.runtime.iframeLocalStorage)this.postMessageToExternalIframe("set",e,n,r);else{try{localStorage.setItem(e,JSON.stringify(n))}catch(e){}r&&r()}}else{let a="",r=o?JSON.stringify(t):t;n&&(a="; expires="+new Date(d).toUTCString()),"CURRENT_HOST"!=i&&(a+="; domain="+(i=i||Kameleoon.Internals.configuration.customCookieDomainName||this.obtainCurrentRootDomain()));let s="";document.cookie=e+"="+r+a+"; path=/; SameSite=Lax"+s}},this.decodeString=e=>{let t,n,i,a,o,r,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=l.indexOf(e.charAt(d++)),o=l.indexOf(e.charAt(d++)),r=l.indexOf(e.charAt(d++)),s=l.indexOf(e.charAt(d++)),t=a<<2|o>>4,n=(15&o)<<4|r>>2,i=(3&r)<<6|s,c+=String.fromCharCode(t),64!=r&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=this.decodeUTF8(c),c},this.decodeUTF8=e=>{let t,n="",i=0,a=0,o=0;for(;i<e.length;)a=e.charCodeAt(i),a<128?(n+=String.fromCharCode(a),i++):a>191&&a<224?(o=e.charCodeAt(i+1),n+=String.fromCharCode((31&a)<<6|63&o),i+=2):(o=e.charCodeAt(i+1),t=e.charCodeAt(i+2),n+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&t),i+=3);return n},this.domReady=e=>{if("complete"==document.readyState||"interactive"==document.readyState)return e();{let t=!1;this.addEventListener(document,"DOMContentLoaded",(()=>{t||(t=!0,e())}),!1),this.addEventListener(window,"load",(()=>{t||(t=!0,e())}),!1)}},this.encodeString=e=>{let t,n,i,a,o,r,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",d=0;for(e=this.encodeUTF8(e);d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),a=t>>2,o=(3&t)<<4|n>>4,r=(15&n)<<2|i>>6,s=63&i,isNaN(n)?r=s=64:isNaN(i)&&(s=64),c=c+l.charAt(a)+l.charAt(o)+l.charAt(r)+l.charAt(s);return c},this.encodeUTF8=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},this.eraseLocalData=(e,t,n)=>{let i="COOKIE"!=n,a=Kameleoon.Internals.runtime.localDataMap,o=i?"LS":"COOKIE";null!=a&&null!=a[o]&&null!=a[o][e]&&delete a[o][e],i?Kameleoon.Internals.runtime.iframeLocalStorage?this.postMessageToExternalIframe("remove",e,null,null):localStorage.removeItem(e):this.createLocalData(e,"",-1,t,"COOKIE",!1,null,!0)},this.forceNoFlicker=e=>{let t=document.createElement("style");t.setAttribute("id","kameleoonPageLoading"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("media","screen");let n=e+" { visibility: hidden !important; background-image: none !important; }";t.appendChild(document.createTextNode(n)),Kameleoon.Internals.runtime.headNode.appendChild(t)},this.getLocale=e=>{let t=Kameleoon.Gatherer.Language.obtainLocaleTag().substring(0,2);return e&&"fr"!=t&&(t="en"),t},this.obtainComputedStyle=e=>window.getComputedStyle?getComputedStyle(e,""):null,this.obtainCurrentRootDomain=()=>{if(null==Kameleoon.Internals.runtime.currentRootDomain){const e=window.location.hostname.split("."),t=e.length-1,n="testRootDomain",i="_detectRootDomain";let a=e[t];for(let o=t-1;o>=0;o--){a=e[o]+"."+a,this.createLocalData(i,n,1,a,"COOKIE",!1,void 0,!0);if(this.readLocalData(i,"COOKIE",!1)){this.eraseLocalData(i,a,"COOKIE"),Kameleoon.Internals.runtime.currentRootDomain=a;break}}}return Kameleoon.Internals.runtime.currentRootDomain},this.obtainRandomString=(e,t=d.CODE_ALPHABET)=>{let n=t.length,i="";for(let a=0;a<e;++a){let e=Math.floor(Math.random()*n);i+=t.substring(e,e+1)}return i},this.parseHostName=e=>{let t=document.createElement("a");return t.href=e,t.hostname},this.processRedirect=(e,t,n)=>{if(window.location.href!=e){t=t||Kameleoon.Analyst.Actions.currentAction;let i=document.createElement("a");i.href=e,Kameleoon.Internals.runtime.useWideDomainSupport||-1!=window.location.href.indexOf(i.protocol+"//"+i.hostname)?t&&this.createLocalData("kameleoonRedirect-"+t.id,t.associatedVariation.id,1,null,null,!1,null,!0):t&&(e=this.addParameterToURL(e,"kameleoonRedirect-"+t.id+"="+t.associatedVariation.id,!0)),window.location.href!=e&&(this.forceNoFlicker("*"),this.createLocalData("kameleoonReferrer",Kameleoon.Gatherer.Referrer.obtain(),1/24,null,"COOKIE",!1),n&&(Kameleoon.Internals.runtime.redirectInProcess=!0),window.location.replace(e))}},this.processStorageData=e=>{if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval)switch(e.type){case"kameleoonExperiment":const t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e.experimentId,!0);t&&(t.registeredVariationId=e.registeredVariationId);break;case"kameleoonGlobalPersonalizationExposition":Kameleoon.Internals.runtime.personalizationsActive=e.active;break;case Kameleoon.Internals.runtime.dataKeyName:case"kameleoonSimulationVisitorData":(e.type==Kameleoon.Internals.runtime.dataKeyName&&!Kameleoon.Internals.runtime.simulationMode||"kameleoonSimulationVisitorData"==e.type&&Kameleoon.Internals.runtime.simulationMode)&&(Kameleoon.Internals.runtime.pageCached?Kameleoon.Internals.runtime.storedData.update(this.readLocalData(e.type,"LS",!0)):Kameleoon.Internals.runtime.storedData.update(JSON.parse(this.unobfuscateString(e.value))),Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1));break;case"kameleoonLegalConsent":if(e.saveLegalConsent){let t=e=>e?"enable":"disable";if(null!=e.saveLegalConsent.AB_TESTING){let n=t(e.saveLegalConsent.AB_TESTING);Kameleoon.Internals.runtime.Consent[n]("AB_TESTING",!0)}if(null!=e.saveLegalConsent.PERSONALIZATION){let n=t(e.saveLegalConsent.PERSONALIZATION);Kameleoon.Internals.runtime.Consent[n]("PERSONALIZATION",!0)}}}},this.querySelectorAll=(e,t)=>{Kameleoon.Internals.runtime.querySelectorAllHasError=!1;let n,i=!1,a=[],o=[];if(null==t&&(t=document),e.match(/#([0-9]+.*)(?: |$)/)){let t=e.charAt(1);e=e.replace("#"+t,"#\\3"+t+" ")}if(""!==e){if(-1!==e.indexOf("[")&&-1===e.indexOf("']")&&-1===e.indexOf('"]')){let t,n,i;e.split(/(?=\.)|(?=#)|(?=\[)/).forEach((function(a){"["===a[0]&&-1===a.indexOf("']")&&-1===e.indexOf('"]')&&-1!==e.indexOf("=")&&(t=a.split(/=(.+)?/),n=t[1],n=n.substring(0,n.length-1),i=t[0]+"='"+n+"']",e=e.replace(a,i))}))}if(-1!==e.indexOf(":contains")&&(i=!0,n=this.treatContainsSelector(e),e=n.newSelector),t&&t.querySelectorAll)if(-1!==e.indexOf(":eq"))a=this.treatEqSelector(e,t);else try{a=t.querySelectorAll(e)}catch(e){Kameleoon.Internals.runtime.querySelectorAllHasError=!0,a=[]}for(let e=0,t=a.length;e<t;++e)i?n.check(n.containText,a[e])&&o.push(a[e]):o.push(a[e])}return o},this.readLocalData=(e,t,n)=>{let i="COOKIE"!=t,a=(new Date).getTime();try{if(!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let t=Kameleoon.Internals.runtime.localDataMap,n=i?"LS":"COOKIE";if(null!=t&&null!=t[n]&&null!=t[n][e]){let i=t[n][e];if(!(a-24*i.days*60*60*1e3>=i.creationTime))return i.value;delete t[n][e]}}if(i){let t;return t=localStorage&&localStorage.getItem(e),t?(t=JSON.parse(t),v.LOCAL_STORAGE_OBFUSCATED_KEYS[e]&&(t.value=JSON.parse(this.unobfuscateString(t.value))),a>(t.date||t.expirationDate)?(localStorage.removeItem(e),null):t.value):null}{let t=null,i=document.cookie.split(";");for(let a=0,o=i.length;a<o;++a){let o=i[a],r=o.indexOf("=");if(o.substring(0,r).trim()==e){let e=o.substring(r+1);t=n&&JSON.parse(e)||e;break}}return t}}catch(e){}return null},this.runProtectedFunction=(e,t)=>{try{e()}catch(e){t?console.log(e):this.Logger.send(e,"kameleoon.js"),Kameleoon.Internals.runtime&&t&&Kameleoon.Internals.runtime.processPageLoaded()}},this.runProtectedScript=(e,t,n)=>{if(n)return n();if(e){let n=null;try{let i=t?"//# sourceURL="+t:"";n=eval.call(window,"(function () {\n"+e+"\n})();"+i)}catch(e){n=null,console.log(e)}return n}return null},this.saveVisitorCode=(e,t=!0)=>{const n="kameleoonVisitorCode";(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage)&&this.createLocalData(n,e,v.MAX_STORAGE_DAYS,null,"LS"),t&&this.createLocalData(n,e,v.MAX_STORAGE_DAYS,null,"COOKIE")},this.seededRandom=(e,t)=>{let n;return t?(n=this.computeStringSha256(e),parseInt(n,16)/Math.pow(2,256)):(n=this.computeStringHash(e),n=(9301*Math.abs(n)+49297)%233280,n/233280)},this.treatEqSelector=(e,t)=>{if(void 0===e)return null;let n=e.split(/\:eq\([0-9]+\)/g),i=e.match(/(?!\:eq\()[0-9]+/g)||[],a=null==t?document:t;for(let t=0;t<n.length&&(n[t]=n[t].trim(),">"===n[t].charAt(0)&&(n[t]=n[t].substring(1,e.length).trim()),null!=a&&""!=n[t].trim());++t)a=t>i.length-1?a.querySelectorAll(n[t]):a.querySelectorAll(n[t])[i[t]];if(null==a)return[];null==a.length&&(a=[a]);let o=Kameleoon.Utils.querySelectorAll(e.replace(/\:eq\([0-9]+\)/g,"")),r=[];for(let e=0;e<o.length;++e)for(let t=0;t<a.length;++t)if(o[e]===a[t]){r.push(a[t]);break}return r},this.Logger=new H,this.bowser=window.kbowser||window.bowser}addEventListener(e,t,n,i,a){let o;e==window?o="window":e==document?o="document":(o=this.obtainRandomString(4),e.setAttribute(`kameleoonListener-${o}`,!0));let r=n;a||(r=function(e){Kameleoon.Utils.runProtectedFunction((function(){n(e)}))}),e.addEventListener(t,r,i),Kameleoon.Internals.runtime.eventListeners.push({elementKey:o,eventType:t,actionFunction:r,useCapture:i})}addPostMessageCallback(e){let t=Math.random().toString();return Kameleoon.Internals.runtime.postMessageCallbacks[t]=e,t}addCSSStyleSheet(e,t,n){if(!e)return;let i=n||document,a="kameleoonStyleSheet"+(t?"-"+t.id:""),o=n?n.getElementById(a):null,r="";o&&(r=o.textContent,o.parentNode.removeChild(o));let s=i.createElement("style");s.className="KameleoonStyleSheet",s.setAttribute("id",a),s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("media","screen");let l=r+e;s.styleSheet?s.styleSheet.cssText=l:s.appendChild(document.createTextNode(l)),n?i.getElementsByTagName("head")[0].appendChild(s,i.getElementsByTagName("head")[0].firstChild):Kameleoon.Internals.runtime.headNode.appendChild(s),t&&(t.loadedCSSStyleSheet=s)}addCallbackToObserver(e){J.setMutationObserverSPA(),Kameleoon.Internals.runtime.listenSpaCallbacks.push(e)}applyVariation(e){new $(e).process()}clearInterval(e){delete Kameleoon.Internals.runtime.intervalIds[e],window.clearInterval(e)}clearTimeout(e){delete Kameleoon.Internals.runtime.timeoutIds[e],window.clearTimeout(e)}clone(e){return JSON.parse(JSON.stringify(e))}computeCurrentPageCleanAbsoluteURL(){if(null==Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(e){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL}computeStringHash(e,t){e=t?this.computeStringSha256(e):e;let n=0;for(let t=0;t<e.length;++t)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n}secureSessionStorage(e,t,n){try{return window.sessionStorage[e](t,n)}catch(e){return null}}flatten(...e){let t=[];for(let e=0;e<arguments.length;e++)arguments[e]instanceof Array?t.push.apply(t,this.flatten.apply(this,arguments[e])):t.push(arguments[e]);return t}obfuscateString(e){let t="";for(let n=0,i=e.length;n<i;n+=1){let i=e[n];""==i&&(i="'"),t+=String.fromCharCode(i.charCodeAt(0)+16)}return t}parseParameters(){let e={},t=window.location.hash.substring(1).replace(/\?/g,"&"),n=window.location.search.substring(1);if(n||t){(n?n.split("&"):[]).concat(t?t.split("&"):[]).forEach((t=>{let n=t.split("=");try{e[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):null}catch(t){e[unescape(n[0])]=n[1]?unescape(n[1]):null}}))}return e}performBeaconServerCall(e,t,n,i){let a=new XMLHttpRequest;a.open("GET",e,!0),t&&(a.onreadystatechange=function(e){t.bind(a)(e.target)}),n&&(a.onerror=function(e){n.bind(a)(e.target)},a.ontimeout=function(e){n.bind(a)(e.target)}),a.timeout=i||9e5,a.send()}postMessageToExternalIframe(e,t,n,i){const a=JSON.stringify({type:e,key:t||void 0,data:null!=n?n:void 0,callbackId:this.addPostMessageCallback(i)});if(Kameleoon.Internals.runtime.externalIframe&&Kameleoon.Internals.runtime.externalIframe.contentWindow)Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+a,"*");else if(window.kameleoonIframeURL){let e=document.createElement("iframe");e.src=window.kameleoonIframeURL,e.id="kameleoonExternalIframe",e.style.cssFloat="left !important",e.style.height="0px !important",e.style.opacity="0.0 !important",e.style.width="0px !important",e.onload=()=>{Kameleoon.Internals.runtime.externalIframe=e,Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+a,"*")},document.head.appendChild(e)}}processMessageEvent(e){if("string"==typeof e.data)if("obtainTagCommanderVariableNames"!=e.data){if(0!=e.data.indexOf("checkKameleoonScriptPresent")){if(Kameleoon.Internals.runtime.iframeLocalStorage&&Kameleoon.Internals.runtime.postMessageOrigin==e.origin)try{let t=JSON.parse(e.data);if(t.kameleoonMessage){if(t.callbackId){let e=Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId];delete Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId],e&&e(t.data)}null!=t.type&&this.processStorageData(t)}}catch(e){}}else if("https://back-office."+Kameleoon.Internals.configuration.DOMAIN==e.origin){let t="",n=e.data.replace("checkKameleoonScriptPresent","");this.runProtectedScript(n),e.source instanceof MessagePort||e.source instanceof ServiceWorker||e.source.postMessage(t,e.origin)}}else{let t=[];if(window.tc_vars)for(let e in window.tc_vars)t.push(e);e.source instanceof MessagePort||e.source instanceof ServiceWorker||e.source.postMessage("tagCommanderVariableNames"+JSON.stringify(t),e.origin)}}removeBlockingStyleSheet(){let e=document.getElementById("kameleoonPageLoading");e&&e.parentNode&&e.parentNode.removeChild(e)}removeCSSStyleSheet(e){if(e.loadedCSSStyleSheet){const t="kameleoonStyleSheet-",n=e.loadedCSSStyleSheet.id.replace(t,"");-1==n.indexOf(",")?(Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet),e.loadedCSSStyleSheet=null):e.loadedCSSStyleSheet.id=t+n.replace(new RegExp(e.id+",?"),"")}}sendKameleoonCustomEvent(e,t,n){try{let i=document.createEvent("CustomEvent");t.time=(new Date).getTime(),i.initCustomEvent("Kameleoon::"+e,!1,!1,t),window.dispatchEvent(i),(sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension)&&(t.type=n||t.type,window.kameleoonEvents=window.kameleoonEvents||[],window.kameleoonEvents.push(t))}catch(e){}}setInterval(e,t,n,i){let a=window.setInterval((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),i)}),t);return Kameleoon.Internals.runtime.intervalIds[a]=!0,n&&e(),a}setTimeout(e,t,n){let i=window.setTimeout((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),n)}),t);return Kameleoon.Internals.runtime.timeoutIds[i]=!0,i}testEmptyMap(e){return 0==Object.keys(e).length}parseObjectToUrlParams(e){return Object.entries(e).map((e=>e[0]+"="+e[1])).join("&")}treatContainsSelector(e){let t,n={};return t=e.match(/:contains\(['"]([\s\S]+)['"]\)/),n.containText=t[1],n.newSelector=e.replace(t[0],""),""===n.newSelector&&(n.newSelector="*"),n.check=function(e,t){let n=!1;return t.textContent&&-1!==t.textContent.indexOf(e)&&(n=!0),n},n}unobfuscateString(e){let t="";for(let n=0,i=e.length;n<i;n+=1)t+=String.fromCharCode(e[n].charCodeAt(0)-16);return t}}v.LOCAL_STORAGE_OBFUSCATED_KEYS={kameleoonData:!0,kameleoonSimulationVisitorData:!0},v.MAX_STORAGE_DAYS=365;class I{constructor(e){this.browsers=e}obtain(){let e=Kameleoon.Internals.runtime.Device.browser;return"Internet Explorer"!=e&&"Microsoft Edge"!=e||(e="Explorer"),e}obtainIndex(){let e=(this.obtain()||"").toUpperCase();for(let t in this.browsers)if(this.browsers[t].name.toUpperCase()==e)return parseInt(t);return null}}class b{constructor(e){this.CUSTOM_DATA_CUTOFF=3e3,this.CUSTOM_DATA_INTERVAL=3e3,this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF=100,this.MAX_INTERVAL_API_VISIT_REQUEST=9e5,this.MAX_NUMBER_REQUESTS_TO_API_VISIT=3,this.inheritVisitorScopeAndTrackVisitorDataFromServer=()=>{if(Kameleoon.Internals.runtime.Visitor.visits.length>1){const e=Kameleoon.Internals.runtime.Visitor.currentVisit.customData,t=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2].customData;for(const n in this.customData){if("VISITOR"==this.customData[n].scope&&null==e[n]){const e=t[n];null!=e&&this.register(parseInt(n),{value:e,overwrite:!0},!0)}}Kameleoon.Internals.runtime.Visitor.saveToStoredData()}},this.register=(e,t,n)=>{const i=this.customData[e];if(i){let a={};const o=t.value;if(null==o)return;const r=t.overwrite;if(n)a=o;else if(o instanceof Array)for(let e=0,t=o.length;e<t;++e)null!=o[e]&&(o[e].toString().length<=V.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||i.localOnly)&&(a[o[e]]=1);else(o.toString().length<=V.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||i.localOnly)&&(a[o]=1);const s="LIST"!=i.type&&"COUNT_LIST"!=i.type||r;!s&&Kameleoon.Utils.testEmptyMap(a)||(Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"CustomDataSet",{name:i.name,value:o}),Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"customData/set",name:i.name,value:o}),Kameleoon.Gatherer.track(V,{index:e,customData:i,overwrite:s,overwriteDefault:r,valueToAdd:a,value:o}))}},this.customDataVisitsRequest=e=>{},this.run=()=>{Kameleoon.Internals.runtime.Visitor.currentVisit.clearCustomDataPage(),Kameleoon.Utils.clearInterval(this.intervalId),Kameleoon.Internals.runtime.Gatherer.startOfVisit&&this.inheritVisitorScopeAndTrackVisitorDataFromServer(),this.firstTimeCheck=(new Date).getTime(),this.intervalId=Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF,!0),Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearInterval(this.intervalId)}),this.CUSTOM_DATA_CUTOFF),Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_INTERVAL,!1)},this.customData=e}parseNumberValue(e,t){switch(e){case-2:return"true"===t;case-1:return t;default:return parseFloat(t)}}obtainParsedValue(e,t){const n=this.customData[e];switch(n.type){case"COUNT_LIST":const e=[];for(const n in t)e.push({value:n,count:t[n]});return e;case"LIST":const i=[];for(const e in t)i.push(e);return i;default:return this.parseNumberValue(n.format,Object.keys(t)[0])}}obtain(){for(const e in this.customData)if(!this.customData[e].treated){const t=parseInt(e),n=this.obtainValueMap(t,this.customData[e]);n&&this.register(t,n)}}obtainValueFromPath(e,t){return e.match(/[^'\]\[\.\"]+/gi).reduce(((e,t)=>e&&e[t]),t)}obtainValueMap(e,t){let n=null;if(null!=t&&!t.disabled)switch(t.method){case"GTM":if(window.dataLayer&&t.variableName)for(let e=window.dataLayer.length-1;e>=0;--e){const i=this.obtainValueFromPath(t.variableName,window.dataLayer[e]);if(null!=i){n={value:i,overwrite:!1};break}}break;case"TC":if(window.tc_vars&&t.variableName){let e=this.obtainValueFromPath(t.variableName,window.tc_vars);if("string"==typeof e&&0==e.length&&(e=null),null!=e){n={value:e,overwrite:!1};break}}break;case"TEALIUM":if(window.utag&&window.utag.data&&t.variableName){let e=this.obtainValueFromPath(t.variableName,window.utag.data);if("string"==typeof e&&0==e.length&&(e=null),null!=e){n={value:e,overwrite:!1};break}}break;case"ADOBE_ANALYTICS":if(window._satellite&&window._satellite.getVar&&t.variableName){const e=window._satellite.getVar(t.variableName);if(null!=e){n={value:e,overwrite:!1};break}}break;case"CUSTOM_CODE":n=Kameleoon.Utils.runProtectedScript(t.customEvalCode,"kameleoonCustomDataScript-"+e+".js")}if(null!=n){t.treated=!0;const i=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[e],a=n.value;if(null!=a){const e=t.type;if("LIST"==e||"COUNT_LIST"==e||null==i||Object.keys(i)[0]!=a.toString()||Kameleoon.Internals.configuration.enableHistoryReconciliation&&t.mappingIdentifier&&null==Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestSuccess"))return n}}return null}}class S{constructor(e){this.keyPages=e}obtainIndexes(){const e=[];return 0==e.length&&e.push(null),e}}class w{constructor(){this.DEFAULT_LOCALE_LANGUAGE_TAG="en"}obtainLocaleTag(){return navigator&&navigator.language||this.DEFAULT_LOCALE_LANGUAGE_TAG}}class _{constructor(e){this.oss=e}obtainIndex(){const e=this.obtain().toUpperCase();for(const t in this.oss)if(this.oss[t].name.toUpperCase()==e)return parseInt(t);return null}obtain(){const e=(Kameleoon.Utils.bowser.parsedResult||Kameleoon.Utils.bowser.parse(navigator.userAgent)).os.name;switch(e){case"Windows Phone":case"iOS":case"Android":case"Linux":case"Windows":return e;case"macOS":return"Tablet"==Kameleoon.Internals.runtime.Device.type?"iOS":"Mac";default:return"Other"}}}class C{constructor(e){this.referrers=e,this.referrer=Kameleoon.Internals.runtime.prevSpaPage||document.referrer;const t="kameleoonReferrer",n=Kameleoon.Utils.readLocalData(t,"COOKIE");n&&(this.referrer=n,Kameleoon.Utils.eraseLocalData(t,null,"COOKIE"))}obtainCorrected(e){switch(this.obtainType(e)){case 0:case 1:return null;default:return this.obtain()}}update(e){this.isUpdated=!0,this.referrer=e}obtain(){return this.referrer}obtainDetectionMatches(e){let t=this.obtainDetectionPartMatches(e.method,e.parameters);return e.and&&(t=t&&this.obtainDetectionPartMatches(e.andMethod,e.andParameters)),t}obtainDetectionPartMatches(e,t){try{switch(e){case 0:return new RegExp(t).test(this.obtain());case 1:const e=new RegExp(t);return e.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||e.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:return!0===Kameleoon.Utils.runProtectedScript(t)}}catch(e){return console.log(e),!1}}obtainIndexes(e){switch(this.obtainType(e)){case 0:case 1:return[0];default:let e=[],t=Number.NEGATIVE_INFINITY;for(const n in Kameleoon.Internals.runtime.Gatherer.configuration.referrers){const i=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n];if(this.obtainMatches(i)){let a=i.priority;null==a&&(a=Number.NEGATIVE_INFINITY),a>=t&&(a>t&&(e=[],t=a),e.push(parseInt(n)+1))}}return 0==e.length&&e.push(null),e}}obtainIsIgnored(e){return!1}obtainMatches(e){const t=e.detections;for(let e=0;e<t.length;e++)if(this.obtainDetectionMatches(t[e]))return!0;return!1}obtainType(e){return this.obtainIsIgnored(e)?0:Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage")>1?1:3}}class y{constructor(e){if(this.Gatherer={},this.Runtime={},this.Vars=Kameleoon.Utils.readLocalData("kameleoonVars","LS")||{},this.Visitor={},this.canSave=!1,e){let t="";e[Kameleoon.Internals.runtime.dataKeyName]?(t=e[Kameleoon.Internals.runtime.dataKeyName],e.Kameleoon&&Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")):e.kameleoonData&&(t=e.kameleoonData),Kameleoon.Internals.runtime.simulationMode&&(e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData)&&(t=e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData);let n=Kameleoon.Utils.unobfuscateString(t),i=n&&JSON.parse(n)||{};this.Gatherer=i.Gatherer||{},this.Runtime=i.Runtime||{},this.Vars=i.Vars||e.kameleoonVars||{},this.Visitor=i.Visitor||{}}else{let e=Kameleoon.Utils.readLocalData("kameleoonData","LS");if(Kameleoon.Internals.runtime.simulationMode){const t=Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0),n=Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0);(t||n)&&(e=t||n)}e&&(this.Gatherer=e.Gatherer||{},this.Runtime=e.Runtime||{},this.Vars=e.Vars||this.Vars||{},this.Visitor=e.Visitor||{})}Kameleoon.Utils.eraseLocalData("kameleoonVars",null,"LS");for(let e in this.Vars)Kameleoon.Internals.runtime.pageStartTime>this.Vars[e].date&&delete this.Vars[e];Kameleoon.Utils.setInterval((()=>{this.canSave&&(this.save(!0),this.canSave=!1)}),1e3),Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,(()=>{if(window.self!==window.top){let e=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,"LS");e&&e.Visitor&&this.Visitor&&this.Visitor.totalVisits<e.Visitor.totalVisits&&this.update(e)}this.save(!0)}))}obtainField(e,t,n){return this[e][t]||n||null}resetForStartOfVisit(){this.Runtime={}}saveField(e,t,n){this[e][t]=n,this.save(!1)}save(e){e?Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,this,Kameleoon.Internals.runtime.simulationMode?1/24:v.MAX_STORAGE_DAYS,null,"LS",!0):this.canSave=!0}update(e){this.Gatherer=e.Gatherer||this.Gatherer,this.Runtime=e.Runtime||this.Runtime,this.Vars=e.Vars||this.Vars,this.Visitor=e.Visitor||this.Visitor}}class A{constructor(){}obtainId(){let e;try{e="undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:null}catch(t){e=null}return e}}class T{constructor(e){this.visitEvent=e}track(e){const t=()=>{const t=new this.visitEvent(e);Kameleoon.Internals.runtime.Visitor.saveToStoredData(),e&&(e.notTrack||t.notTrack)||!Kameleoon.Internals.configuration.track||Kameleoon.Internals.runtime.RequestManager.addRequest(t),Kameleoon.Internals.runtime.storedData.save(this.visitEvent.urgent)};Kameleoon.Internals.runtime.Visitor.currentVisit.isVisitFinished()?(Kameleoon.Internals.runtime.Visitor=new te,Kameleoon.Gatherer.track(U),Kameleoon.Gatherer.track(R),Kameleoon.Gatherer.CustomData.run(),Kameleoon.Internals.runtime.gathererRun=!0,t()):t()}}class K{constructor(e){this.obtainRequestData=()=>{let e="eventType="+this.eventType;for(const t in this)"function"==typeof this[t]||K.NOT_TRACK_FIELD[t]||(e+=`&${t}=${this.addValueParameter(this[t])}`);return e},this.addValueParameter=e=>{const t=e=>{try{return encodeURIComponent(e)}catch(t){return e}};return"object"==typeof e?t(JSON.stringify(e)):"string"==typeof e?t(e):e},this.time=(new Date).getTime(),this.nonce=Kameleoon.Utils.obtainRandomString(K.NONCE_LENGTH,d.HEXADECIMAL_ALPHABET),Kameleoon.Internals.runtime.Visitor.currentVisit.addEvent(this.time)}}K.NONCE_LENGTH=16,K.NOT_TRACK_FIELD={eventType:1,time:1,notTrack:1,type:1,urgent:1};class k extends K{constructor(){super(),this.eventType="activity",this.clicks=Kameleoon.Internals.runtime.Gatherer.clicks,Kameleoon.Internals.runtime.Visitor.currentVisit.addClicks(this.clicks),Kameleoon.Internals.runtime.Gatherer.active=!1,Kameleoon.Internals.runtime.Gatherer.clicks=0}static initialize(){let e=()=>{Kameleoon.Internals.runtime.Gatherer.active=!0};Kameleoon.Utils.addEventListener(document,"mousemove",e,!1),Kameleoon.Utils.addEventListener(document,"scroll",e,!1),Kameleoon.Utils.addEventListener(document,"click",(()=>{e(),Kameleoon.Internals.runtime.Gatherer.clicks++}),!1),Kameleoon.Utils.setInterval((()=>{Kameleoon.Internals.runtime.Gatherer.active&&Kameleoon.Gatherer.track(this)}),this.ACTIVITY_TRACKING_INTERVAL,!0)}}k.ACTIVITY_TRACKING_INTERVAL=15e3,k.urgent=!1;class E extends K{constructor(){super(),this.eventType="adBlocker",Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker()}}E.urgent=!1;class x extends K{constructor(e){super(),this.eventType="experiment",this.id=e.id,this.variationId=e.variationId,this.notTrack=e.notTrack,null==this.variationId&&(this.notTrack=!0),Kameleoon.Internals.runtime.Visitor.currentVisit.addExperiment(this.time,this.id,this.variationId)}}x.urgent=!0;class L extends K{constructor(e){super(),this.eventType="personalization",this.id=e.id,this.variationId=e.variationId,this.notTrack=e.notTrack,0==this.variationId&&e.unexpositionCause&&(this.unexpositionCause=e.unexpositionCause),Kameleoon.Internals.runtime.Visitor.currentVisit.addPersonalization(this.time,this.id,e.originalVariationId)}}L.urgent=!0;class O extends K{constructor(e){super(),this.eventType="conversion",this.goalId=e.goalId,this.negative=!0===e.negative;let t,n=!1,i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","revenuesByGoalId",{}),a=i[this.goalId];this.negative?a&&a.length>0?(t=a.splice(-1)[0],0==a.length&&delete i[this.goalId]):n=!0:(t=e.revenue,isNaN(t)&&(t=0),a||(a=[]),a.push(t),i[this.goalId]=a.splice(-10)),this.revenue=t,n||(Kameleoon.Internals.runtime.storedData.saveField("Gatherer","revenuesByGoalId",i),Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(this.goalId,1,this.revenue,this.negative)),e.metadata&&(this.metadata=e.metadata)}}O.urgent=!0;class V extends K{constructor(e){super(),this.eventType="customData",this.index=e.index,this.overwrite=e.overwrite||!1,this.notTrack=e.value.length>V.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||e.customData.localOnly,this.valuesCountMap=e.valueToAdd,this.mappingIdentifier=1==e.customData.mappingIdentifier?"true":"false",Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(this.index,this.valuesCountMap,this.overwrite),"PAGE"===e.customData.scope&&(this.overwrite=e.overwriteDefault||!1)}}V.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST=1e3,V.urgent=!0;class M extends K{constructor({city:e,country:t,latitude:n,longitude:i,postalCode:a,region:o}){super(),this.eventType="geolocation",this.city=e,this.country=t,this.latitude=n,this.longitude=i,this.postalCode=a,this.region=o,Kameleoon.Internals.runtime.Visitor.currentVisit.addGeolocation({city:e,country:t,latitude:n,longitude:i,postalCode:a,region:o})}}M.urgent=!1;class U extends K{constructor(){super(),this.eventType="page";const e=Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),t=document.title,n=Kameleoon.Utils.computeCurrentPageCanonicalURL(),i=Kameleoon.Gatherer.Referrer.obtainCorrected(Kameleoon.Internals.runtime.Gatherer.startOfVisit);this.href=e&&e.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST),this.title=t.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST),this.keyPagesIndices=Kameleoon.Gatherer.KeyPage.obtainIndexes(),this.referrersIndices=Kameleoon.Gatherer.Referrer.obtainIndexes(Kameleoon.Internals.runtime.Gatherer.startOfVisit),n&&(this.canonicalHref=n),null!=i&&(this.referrerHref=i),Kameleoon.Internals.configuration.cleanHrefTracking&&(this.href&&(this.href=this.href.replace(/(\?|\#)(.*)/gi,"")),this.referrerHref&&(this.referrerHref=this.referrerHref.replace(/(\?|\#)(.*)/gi,""))),Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(this.time,e,this.keyPagesIndices,this.referrersIndices)}}U.urgent=!0;class R extends K{constructor(){super(),this.eventType="staticData",this.obtainInfluences=(e,t)=>{let n={experiments:{},personalizations:{}},i=e=>{for(let t in e)(e[t][1]<0||"-1"==t||null==e[t][0]||"null"==e[t][0])&&delete e[t];return e};e.forEach((({ExperimentActivations:e,PersonalizationActivations:i})=>{for(let i in e){let a=e[i];if(a.influence){let e=a.influence-(t-a.times.slice(-1)[0]);n.experiments[i]=[parseInt(a.associatedVariationID),e]}}for(let e in i){let a=i[e];if(a.influence){let i=a.influence-(t-a.times.slice(-1)[0]);n.personalizations[e]=[1,i]}}})),this.experimentInfluences=i(n.experiments),this.personalizationInfluences=i(n.personalizations)};const{Visitor:e,Device:t}=Kameleoon.Internals.runtime,{Browser:n,OperatingSystem:i,TimeZone:a,Language:o}=Kameleoon.Gatherer,r=a.obtainId();this.timeSincePreviousVisit=e.obtainTimeSincePreviousVisit(),this.browser=n.obtain(),this.browserIndex=n.obtainIndex(),this.browserVersion=t.browserVersion,this.os=i.obtain(),this.osIndex=i.obtainIndex(),this.windowWidth=t.windowWidth,this.windowHeight=t.windowHeight,this.screenWidth=t.screenWidth,this.screenHeight=t.screenHeight,this.localeLanguageTag=o.obtainLocaleTag(),this.deviceType=t.type.toLocaleUpperCase(),this.visitNumber=e.currentVisit.visitNumber,null!=r&&(this.timeZoneId=r),this.obtainInfluences(e.visits,e.currentVisit.startDate)}}R.urgent=!0;class D extends K{constructor(e){super(),this.eventType="targetingSegment",this.id=e.id,Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(this.time,this.id)}}D.urgent=!1;class P extends K{constructor(e){super(),this.eventType="formAnswer";for(const t in e)this[t]=e[t]}}P.urgent=!1;class N{constructor(e,t){this.executeCommand=e=>{try{if(e.command&&(e=e.command),"function"==typeof e)e();else{const t=e[0].split(".");let n,i;"Kameleoon"!=t[0]?(n=Kameleoon.API,i=Kameleoon.API[t[0]]):i=Kameleoon.API[t[2]],t.forEach((e=>{n=null==n?window[e]:n[e]})),n.apply(i,Array.prototype.slice.call(e,1))}}catch(e){console.log(e)}};const n="IMMEDIATE";this.commands=e&&e.forEach?e:[],this.commands.push=e=>{t==n?e.level==t?this.executeCommand(e):this.commands.unshift(e):this.executeCommand(e)};const i=[];if(t==n)for(let e=this.commands.length-1;e>=0;e--){const t=this.commands[e];t.level===n&&(i.push(t),this.commands.splice(e,1))}else this.commands.forEach((e=>{i.push(e)})),this.commands.splice(0,this.commands.length);return i.forEach(this.executeCommand),this.commands}}class G{constructor(){this.associateActionAndVariation=(e,t,n)=>{let i=!0,a=!0;"REGISTERED_VARIATION"==n&&(a=!1),"DISPLAYED_VARIATION"==n&&(i=!1),null===t&&(e.trackingPerformed=!0);const o=Kameleoon.Internals.runtime.variations.filter((e=>e.id==t))[0];let r="Reference";e&&e.variations&&e.variations.forEach((function(e,n){e.id&&e.name&&e.id==t&&(r=e.name)}));const s=e.associatedVariation;e&&s&&t==s.id&&(r=s.name),e&&i&&(e.associatedVariation={id:t,name:r}),e&&a&&!e.displayedVariation&&(e.associationMade=!1),o?e&&(Kameleoon.Internals.runtime.simulationMode&&-1==e.id||!e.associationMade)&&(i&&(e.associatedVariation=o,e.associationMade=!0),o.actionId=e.id,a&&(e.displayedVariation=new $(o))):e.displayedVariation={id:t,name:r}}}checkCapping(e,t,n,i,a){return!(null!=i.expositionFrequencySameVisit&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(t,n,null,a,!0,!1,!1,e)>=i.expositionFrequencySameVisit||null!=i.expositionFrequencySameVisitor&&null!=i.expositionFrequencySameVisitorDelaySeconds&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(t,n,a-1e3*i.expositionFrequencySameVisitorDelaySeconds,a,!0,!0,!1,e)>=i.expositionFrequencySameVisitor||i.cappingPerVisitorNumberExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(t,n,null,a,!0,!0,!1,e)>=i.expositionFrequencySameVisitorMax||i.cappingPerVisitorNumberExposedVisits&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(t,n,null,null,!0,!0,!0,e)>=i.exposedVisitsSameVisitorMax||i.cappingPerVisitorConvertGoal&&Kameleoon.Internals.runtime.Visitor.obtainNumberConversions(i.cappingPerVisitorGoalId)>0||null!=i.expositionFrequencyDelaySecondsBetweenTwoExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(t,n,a-1e3*i.expositionFrequencyDelaySecondsBetweenTwoExpositions,a,!0,!0,!1,e)>=1)}checkActionConsent(e){if(e.experimentAction){if(!Kameleoon.Internals.runtime.Consent.AB_TESTING){if(null==Kameleoon.Internals.runtime.Consent.AB_TESTING){if("ALL"==Kameleoon.Internals.configuration.beforeAbtestConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforeAbtestConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.abtestConsentOptout)return!0;return!1}}else if(!Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if(null==Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if("ALL"==Kameleoon.Internals.configuration.beforePersonalizationConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforePersonalizationConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.personalizationConsentOptout)return!0;return!1}return!0}checkActionsTargeting(e){Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1).forEach((e=>{e.previousExposition=e.exposition}));const t=[];for(let n=0,i=e.length;n<i;++n){const i=e[n];!this.checkActionConsent(i)||i.blocked||i.featureFlag||null===i.registeredVariationId||(null==i.numberTargetingCheckings&&(i.numberTargetingCheckings=0),Kameleoon.Targeting.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting||0==i.numberTargetingCheckings,!i.experimentAction&&"CUMULATIVE_WEIGHT"==i.checkConditionsRule)&&t.push(i))}e=t;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!0===n.forceTargeting)n.targeting=!0;else{const e=!n.experimentAction&&"CUMULATIVE_WEIGHT"==n.personalizationCheckConditionsRule,t=Kameleoon.Targeting.checkTree(n,n.targetingSegment?n.targetingSegment.tree:null,e,n.targetingSegment||null);if(e)switch(n.microtargetingMatchType){case"GREATER":n.targeting=t.weight>(n.cumulativeWeightOfConditions||0);break;case"EQUAL":n.targeting=t.weight==(n.cumulativeWeightOfConditions||0);break;case"LOWER":n.targeting=t.weight<n.cumulativeWeightOfConditions}else n.targeting=t.targeting;n.rescheduleTargeting=t.rescheduleTargeting,n.numberTargetingCheckings++}}const n=[];for(let t=0,i=e.length;t<i;++t){const i=e[t];i.experimentAction||(!0===i.targeting?n.push(i):i.exposition=!1)}const i=(new Date).getTime();for(let e=0,t=n.length;e<t;++e){const t=n[e];void 0!==t.forceExposition?(t.exposition=t.forceExposition,!1===t.exposition&&(t.notExposedReason="SIMULATION")):(t.exposition=!0,!0!==t.exposition||t.technical||Kameleoon.Internals.runtime.simulationMode&&(null==Kameleoon.Internals.runtime.simulationModeData||null==Kameleoon.Internals.runtime.simulationModeData.experiments)||Kameleoon.Internals.runtime.personalizationsActive||(t.exposition=!1,t.notExposedReason="GLOBAL_EXCLUSION"),!0===t.exposition&&t.globalCappingNumberVisitors&&t.numberVisitorsExposed>=t.maxNumberVisitorsExposed&&(t.exposition=!1,t.notExposedReason="PERSONALIZATION_CAPPING"),!0!==t.exposition||Kameleoon.Internals.runtime.simulationMode||(t.exposition=t.checkCustomExpositionRate(),!1===t.exposition&&(t.notExposedReason="PERSONALIZATION_EXCLUSION")),!0!==t.exposition||this.checkCapping(!1,t.id,1,t,i)||(t.exposition=!1,t.notExposedReason="VISITOR_CAPPING"))}let a={};Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1).forEach((function(e){if(e.exposition){const t=e.configuration,n=a[t],i=e.priority;(null==n||i>n)&&(a[t]=i)}}));let o={};for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.experimentAction&&!0===n.exposition){const e=n.configuration,t=a[e],i=n.priority;(null==t||i>=t)&&((null==o[e]||i>t)&&(o[e]=[]),o[e].push(n.id))}}a=null;for(let e=0,t=n.length;e<t;++e){const t=n[e];!0===t.exposition&&!0!==t.forceExposition&&o[t.configuration]&&-1==o[t.configuration].indexOf(t.id)&&(t.exposition=!1,t.notExposedReason="PRIORITY")}o=null;const r=[];for(let t=0,n=e.length;t<n;++t){const n=e[t];(!1===n.targeting||!n.experimentAction&&!0===n.targeting&&!1===n.exposition)&&(this.associateActionAndVariation(n,0,"DISPLAYED_VARIATION"),Kameleoon.Utils.removeCSSStyleSheet(n)),Kameleoon.Targeting.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting,!n.experimentAction&&"CUMULATIVE_WEIGHT"==n.personalizationCheckConditionsRule)&&r.push(n)}if(r.length>0){const e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e),this.process(r)}),Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}e.length>0&&Kameleoon.Internals.runtime.targetingsEvent&&Kameleoon.Internals.runtime.targetingsEvent.emit(e)}performActionsTracking(e){const t=[];for(let n=0,i=e.length;n<i;++n){const i=e[n];!i.trackingPerformed&&i.associatedVariation&&null!=i.associatedVariation.id&&t.push(i)}e=t;for(let t=0,n=e.length;t<n;++t){const n=e[t],i=n.associatedVariation;let a=!n.collectingDataDisabled;if(!n.experimentAction){const e=n.notExposedReason;"PERSONALIZATION_CAPPING"!=e&&"SCHEDULE"!=e&&"SCENARIO"!=e&&"PRIORITY"!=e&&"VISITOR_CAPPING"!=e||(a=!1)}if(n.experimentAction&&0==n.deviation[i.id]&&(a=!1),n.mentalistEnabled&&(i.name+=" (Predicteo)"),n.experimentAction?Kameleoon.Gatherer.track(x,{id:n.id,variationId:i.id,notTrack:!(n.kameleoonTracking&&a)}):Kameleoon.Gatherer.track(L,{id:n.id,variationId:0==i.id?0:1,notTrack:!(n.kameleoonTracking&&a),originalVariationId:i.id,unexpositionCause:n.notExposedReason}),a&&(n.experimentAction||n.exposition||!n.exposition&&"PERSONALIZATION_EXCLUSION"==n.notExposedReason)){const e=Kameleoon.Internals.runtime.RequestManager,t=e.addCallback.bind(e);n.contentSquareTracking&&t((()=>Kameleoon.Tracking.processContentSquare(n)))}n.trackingPerformed=!0}}performDeferredVariations(e,t,n){}process(e,n){const i=(new Date).getTime();this.checkActionsTargeting(e);const a=[];for(let o=0,r=e.length;o<r;++o){const r=e[o];if(!r.treated&&!r.blocked){if(!0===r.targeting)if(Kameleoon.Internals.runtime.Visitor.currentVisit.addActionTriggered(r.id,r.experimentAction),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:r.targetingSegmentId,name:r.targetingSegment?r.targetingSegment.name:null}}),r.experimentAction){const e=new t(r,0);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ExperimentTriggered",{experiment:e},"experiment/triggered"),r.performVariationAssignment(!1),null!=r.associatedVariation&&(this.checkCapping(!0,r.id,r.associatedVariation.id,r.associatedVariation,i)||(r.targeting=!1),null===r.associatedVariation.id&&(r.targeting=!1))}else this.associateActionAndVariation(r,r.exposition?r.associatedVariation.id:0,"BOTH"),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"PersonalizationTriggered",{personalization:new t(r,1)},"personalization/triggered");if(!0===r.targeting&&(r.treated=!0,this.currentAction=r,r.displayedVariation)){if(r.experimentAction&&(0!=r.displayedVariation.id&&"reference"!=r.displayedVariation.id||r.executeCodeForReference)&&(r.cssCode&&!r.cssCodeEvaluated&&(r.cssCodeEvaluated=!0,Kameleoon.Utils.addCSSStyleSheet(r.cssCode,r,null)),r.javaScriptCode&&!r.javaScriptCodeEvaluated&&(r.javaScriptCodeEvaluated=!0,Kameleoon.Utils.runProtectedScript(r.javaScriptCode,"kameleoonActionJavaScriptCode-"+r.id+".js"))),!n&&r.displayedVariation.process&&r.displayedVariation.process(),r.targeting&&(r.experimentAction||r.exposition)){const e={};r.experimentAction?e.experiment=new t(r,0):e.personalization=new t(r,1),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,r.experimentAction?"ExperimentActivated":"PersonalizationActivated",e,"action/activated")}a.push(r)}}}this.performActionsTracking(a)}processAllActions(){let e=[];e=e.concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0)),e=e.concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1)),this.process(e),Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).forEach((e=>{e.handleSpecialCase()}))}}class F{constructor(){this.experiments={},this.personalizations={}}addCampaign(e){e.experimentAction?this.experiments[e.id.toString()]=e:this.personalizations[e.id.toString()]=e}obtainCampaign(e,t){if(null!=e){if(e=e.toString(),null!=t){return this[t?"experiments":"personalizations"][e]}return this.experiments[e]||this.personalizations[e]}}obtainCampaignsList(e){const t="experiments"===e||0===e?"experiments":"personalizations";return Object.values(this[t])}}class j{constructor(){this.disable=(e,t)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/disable",consentType:e}),e&&"BOTH"!=e?this[e]=!1:(this.AB_TESTING=!1,this.PERSONALIZATION=!1),1!=t&&this.write(),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})},this.enable=(e,t)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/enable",consentType:e}),e&&"BOTH"!=e?this[e]=!0:(this.AB_TESTING=!0,this.PERSONALIZATION=!0),Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.RequestManager&&(Kameleoon.Internals.runtime.RequestManager.processRequests(),this.purge()),1!=t&&this.write(),Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})},this.getConfiguredConsent=()=>({AB_TESTING:Kameleoon.Internals.configuration.abtestConsent,PERSONALIZATION:Kameleoon.Internals.configuration.personalizationConsent}),this.getConsent=()=>({AB_TESTING:this.AB_TESTING,PERSONALIZATION:this.PERSONALIZATION}),this.hasGlobalConsent=()=>this.AB_TESTING||this.PERSONALIZATION,this.initialize=e=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/initialize",consent:e}),this.AB_TESTING=e.AB_TESTING,this.PERSONALIZATION=e.PERSONALIZATION,this.initializeSdk()},this.initializeSdk=()=>{if(!this.AB_TESTING)try{const e=localStorage.getItem("kameleoonConsentData");if(e){JSON.parse(e)[Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE")]&&(this.AB_TESTING=!0)}}catch(e){}},this.purge=()=>{if(Kameleoon.Internals.runtime){const e=e=>{if(null!=e)for(const t in e)Kameleoon.Utils.createLocalData(e[t].name,e[t].value,e[t].days,e[t].domain,e[t].forceLocalAccess,e[t].jsonFormat,null,!0)};e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap.LS),e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap.COOKIE),Kameleoon.Internals.runtime.localDataMap=null,Kameleoon.Analyst.Actions.processAllActions()}},this.setup=()=>{let e={AB_TESTING:!1,PERSONALIZATION:!1};const t=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonLegalConsent","LS");e=null!=t?1==t?{AB_TESTING:!0,PERSONALIZATION:!0}:t:{AB_TESTING:"OFF"==Kameleoon.Internals.configuration.abtestConsent||null,PERSONALIZATION:"OFF"==Kameleoon.Internals.configuration.personalizationConsent||null},this.initialize(e)},this.write=()=>{Kameleoon.Utils.createLocalData("kameleoonLegalConsent",this.getConsent(),v.MAX_STORAGE_DAYS,null,"LS",!0,null,!0)},this.AB_TESTING=!1,this.PERSONALIZATION=!1}}class B{get adBlocker(){return Kameleoon.Internals.runtime.adBlocker}get os(){return Kameleoon.Gatherer.OperatingSystem.obtain()}get screenHeight(){return window.screen.height}get screenWidth(){return window.screen.width}get timeZone(){return Kameleoon.Gatherer.TimeZone.obtainId()}get windowHeight(){return window.innerHeight}get windowWidth(){return window.innerWidth}constructor(){const e=Kameleoon.Utils.bowser.parsedResult=Kameleoon.Utils.bowser.parsedResult||Kameleoon.Utils.bowser.parse(navigator.userAgent);this.browser=e.browser.name||"Other",this.type="tablet"===e.platform.type?"Tablet":"mobile"===e.platform.type?"Phone":"Desktop","Safari"===this.browser&&"Desktop"===this.type&&"ontouchend"in document.documentElement&&(this.type="Tablet");let t=e.browser.version||"Safari"===this.browser&&e.os.version;try{t&&t.split(".").length>1&&(t=t.split(".")[0]+"."+t.split(".")[1])}catch(e){}this.browserVersion=t?parseFloat(t):null}}class q{constructor(e,t){var n,i;this.executeGlobalScript=()=>{},this.handleSpecialCase=()=>{!0!==this.targeting&&this.redirectProcessed?(this.performVariationAssignment(!0),Kameleoon.Analyst.Actions.performActionsTracking([this])):this.preAssignVariation&&this.performVariationAssignment(!0)},this.obtainVariationAssignmentRandomNumber=()=>{let e="";this.variations.forEach((function(t){t.respoolTime&&(e+=t.respoolTime)}));const t=Kameleoon.Internals.runtime.Visitor.obtainIdentifierValue();return Kameleoon.Utils.seededRandom(t+this.id+e,!0)},this.performVariationAssignment=e=>{if(!this.displayedVariation||e||this.deferredLoading){if(void 0!==this.registeredVariationId&&this.assignmentTime&&this.variations.forEach((e=>{(this.registeredVariationId==e.id&&e.respoolTime>this.assignmentTime||null===this.registeredVariationId&&this.untrackedRespoolTime>this.assignmentTime)&&(this.registeredVariationId=void 0)})),void 0!==this.registeredVariationId||Kameleoon.Internals.runtime.simulationMode||0!=this.variations.filter((e=>e.id==this.registeredVariationId)).length||(this.registeredVariationId=void 0),this.mentalistEnabled&&this.mentalistVariationReassignationPermission&&(this.registeredVariationId=void 0),void 0===this.registeredVariationId){if(this.mentalistEnabled);else if(Kameleoon.Internals.runtime.customVariationSelectionFunction)this.registeredVariationId=Kameleoon.Internals.runtime.customVariationSelectionFunction(this),null!=this.registeredVariationId&&("reference"==this.registeredVariationId.toString()?this.registeredVariationId=0:"none"==this.registeredVariationId.toString()&&(this.registeredVariationId=null));else{const e=this.obtainVariationAssignmentRandomNumber();let t=0;this.registeredVariationId=null;for(let n=0,i=this.variations.length;n<i;++n)if(t+=this.variations[n].deviation,e<=t){this.registeredVariationId=this.variations[n].id;break}}this.assignmentTime=(new Date).getTime(),this.writeLocalData()}Kameleoon.Analyst.Actions.associateActionAndVariation(this,this.registeredVariationId,e?"REGISTERED_VARIATION":"BOTH")}},this.setBlocked=e=>{this.blockingReason=e,this.blocked=!0},this.setTargetingSegment=e=>{this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((e=>e.id==this.targetingSegmentId))[0]||{},e&&e!=this.targetingSegmentId||(this.targeting=void 0,this.rescheduleTargeting=null,this.numberTargetingCheckings=0,this.displayedVariation=null)},this.trigger=()=>{this.targeting||(this.targeting=!0,this.displayedVariation=null)},this.writeLocalData=()=>{const e=this.registeredVariationId+(this.mentalistEnabled?"-mentalist":"")+"/"+this.assignmentTime;this.simulationMode||Kameleoon.Utils.createLocalData("kameleoonExperiment-"+this.id,e,this.cookieDuration||30,this.cookieDomain,"LS",!1)};for(const t in e)this[t]=e[t];const a="kameleoonRedirect-"+this.id,o=null!==(i=null!==(n=t&&t[a])&&void 0!==n?n:Kameleoon.Utils.readLocalData(a,"LS",!1))&&void 0!==i?i:Kameleoon.Internals.runtime.parameters[a];null!=o&&(this.registeredVariationId=o,this.assignmentTime=(new Date).getTime(),this.redirectProcessed=!0,Kameleoon.Utils.eraseLocalData("kameleoonRedirect-"+this.id,null,null));const r="kameleoonExperiment-"+this.id;let s=t?t[r]:Kameleoon.Utils.readLocalData(r,"LS",!1);for(const e in Kameleoon.Internals.runtime.parameters)0==e.indexOf("kameleoonRedirect-"+this.id)&&(s=Kameleoon.Internals.runtime.parameters[e]+"/"+(new Date).getTime()+"/"+!1,this.writeLocalData());if(s&&-1!=this.id){const e=s.split("/");this.registeredVariationId="null"==e[0]?null:e[0],this.assignmentTime=parseInt(e[1]),this.registeredVariationId&&("reference"==this.registeredVariationId.toString()&&(this.registeredVariationId=0,this.writeLocalData()),"none"==this.registeredVariationId.toString()&&(this.registeredVariationId=null,this.writeLocalData()),null==this.winningVariationId||Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.disableCache||this.winningVariationId==this.registeredVariationId||(this.registeredVariationId=this.winningVariationId))}this.registeredVariationId&&-1!=this.registeredVariationId.toString().indexOf("-mentalist")&&(this.registeredVariationId=parseInt(this.registeredVariationId.toString().replace("-mentalist","")),this.mentalistEnabled=!0),this.registeredVariationId&&s&&null==this.deviation[this.registeredVariationId]&&(this.registeredVariationId=void 0),this.setTargetingSegment(),this.redirectProcessed&&null!=this.registeredVariationId&&this.writeLocalData();const l=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);l.length>0&&-1!=l.indexOf(this.id)&&this.setBlocked("API")}static performMutualExclusiveGroup(){}}class W{constructor(){this.checkKameleoonGoals=()=>{const e=[],t=[];Kameleoon.Internals.runtime.goals.forEach((e=>{if("ENGAGEMENT"===e.type)t.push({goal:e})})),e.length>0&&this.processConversions(e),Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,(e=>{this.processConversions(t)}),!0)},this.processConversions=e=>{if(Kameleoon.Internals.runtime.gathererRun)for(let t=0,n=e.length;t<n;++t){const n=e[t],i=n.goal,o=!0===n.negative;(o||"PAGE_VIEWS"!=i.type&&"TIME_SPENT"!=i.type&&"ENGAGEMENT"!=i.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(i.id))&&(Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionTriggered",new a(i),"goal/process"),Kameleoon.Gatherer.track(O,{goalId:i.id,revenue:n.revenue?n.revenue:0,negative:o,metadata:n.metadata}))}}}}class z{constructor(){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","geolocation");null==e?Kameleoon.Utils.performBeaconServerCall(Kameleoon.Internals.runtime.RequestManager.obtainGeolocationUrl(),(e=>{if(4==e.readyState&&(200==e.status||204==e.status)){let t=e.getResponseHeader("geoip_country_name"),n=e.getResponseHeader("geoip_region_name"),i=e.getResponseHeader("geoip_city");this.country=t?Kameleoon.Utils.decodeUTF8(t):null,this.city=i?Kameleoon.Utils.decodeUTF8(i):null,this.latitude=e.getResponseHeader("geoip_latitude"),this.longitude=e.getResponseHeader("geoip_longitude"),this.postalCode=e.getResponseHeader("geoip_postal_code"),this.region=n?Kameleoon.Utils.decodeUTF8(n):null,this.loaded=!0,Kameleoon.Gatherer.track(M,this),Kameleoon.Internals.runtime.storedData.saveField("Runtime","geolocation",this)}}),null):(this.loaded=!0,this.country=e.country,this.city=e.city,this.latitude=e.latitude,this.longitude=e.longitude,this.postalCode=e.postalCode,this.region=e.region)}}class J{static addMutationElementsToInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];if(n&&n.id&&(Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0),n&&n.className&&"string"==typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static checkSelectorInDomTree(e){if(e.selectors||J.fillClassesAndIdsForSelector(e),0===e.selectorClasses.length&&0===e.selectorIDs.length)return!0;let t=!1;for(let n=0;n<e.selectors.length;++n)if(J.checkIDsForSelector(e.selectorIDs[n],e)&&J.checkClassesForSelector(e.selectorClasses[n],e)){t=!0;break}return t}static fillClassesAndIdsForSelector(e){const t=[],n=[],i=e.selector&&e.selector.split(",")||[];return e.currentQuery&&e.selector!=e.currentQuery&&i.push(e.currentQuery),i.forEach((e=>{if(-1!==e.indexOf(".")||-1!==e.indexOf("#")){let i,a;if(-1!==e.indexOf("\\")||-1!==e.indexOf("contains")||-1!==e.indexOf(":not")){const t=e.replace(/(:[^:]+\(.+?\)|\\)/g,"").replace(/(\-)?(\[.*?\])/g,((e,t)=>t?e:""));i=t.match(/\.([^\s.]+)/g),a=t.match(/#([^\s:\[]+)/g)}else i=e.replace(/\[[^\]]*\]/g,"").match(/\.([^\s.:\[]+)/g),a=e.replace(/\[[^\]]*\]/g,"").match(/#([^\s.:[>]+)/g);n.push(i||[]),t.push(a||[])}})),e.selectors=i,e.selectorClasses=n,e.selectorIDs=t,e}static checkClassesForSelector(e,t){if(null==e)return!0;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(-1===n.indexOf("kameleoon")&&null==Kameleoon.Internals.runtime.addedClasses[n])return!1}return!0}static checkIDsForSelector(e,t){if(null==e)return!0;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(-1!==n.indexOf("kameleoonElement"));else if(null==Kameleoon.Internals.runtime.addedIDs[n])return!1}return!0}static fillInternalObjectsForMutationObserver(e){e||(e=document);const t=e.getElementsByTagName("*");for(let e=0,n=t.length;e<n;++e){const n=t[e];if(n.id&&(Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0),n.className&&"string"==typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static removeMutationElementsFromInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];n&&n.id&&1==Kameleoon.Internals.runtime.addedIDs["#"+n.id]&&delete Kameleoon.Internals.runtime.addedIDs["#"+n.id]}}static performWaitingElementPresentObject(){for(let e=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;e>=0;e-=1){const t=Kameleoon.Internals.runtime.waitingElementPresentObjects[e];if(t&&t.useAntiFlicker&&J.checkSelectorInDomTree(t)){const n=Kameleoon.Utils.querySelectorAll(t.selector);0<n.length&&(Kameleoon.Utils.runProtectedFunction((function(){t.callback(n)}),!0),Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(e,1))}}}static performVariationsElementSet(e){}static performAsyncMutations(){Kameleoon.Internals.runtime.domMutationThrottling=!0,J.asyncMutationsTimeoutId||(J.asyncMutationsTimeoutId=Kameleoon.Utils.setTimeout((()=>{J.mutationList.length>=J.MAX_MUTATIONS_LENGTH_FOR_ITERATION?J.fillInternalObjectsForMutationObserver():J.mutationList.forEach((e=>{const t=e.addedNodes,n=e.removedNodes,i=Array.prototype.slice.call(t),a=Array.prototype.slice.call(n),o=i.concat(a);J.removeMutationElementsFromInternalObjects(n),J.addMutationElementsToInternalObjects(t);for(let t=0;t<o.length;++t){const n=o[t];n&&n.innerHTML&&"childList"===e.type&&J.fillInternalObjectsForMutationObserver(n)}})),J.mutationList=[],J.performWaitingElementPresentObject(),Kameleoon.Utils.clearTimeout(J.asyncMutationsTimeoutId),J.asyncMutationsTimeoutId=null}),250))}static setMutationObserver(){if(Kameleoon.Internals.runtime.cantUseMutationObserver||Kameleoon.Internals.runtime.mutationObserver)return;J.fillInternalObjectsForMutationObserver();const e=document.documentElement;Kameleoon.Internals.runtime.mutationObserver=new MutationObserver((function(e){let t=!0;if(!Kameleoon.Internals.runtime.domReady&&e.length>=J.MAX_MUTATIONS_LENGTH)return J.mutationList=J.mutationList.concat(e),void J.performAsyncMutations();e.forEach((e=>{const n=e.addedNodes,i=e.removedNodes,a=Array.prototype.slice.call(n),o=Array.prototype.slice.call(i),r=a.concat(o);J.removeMutationElementsFromInternalObjects(i),J.addMutationElementsToInternalObjects(n);for(let n=0;n<r.length;++n){const i=r[n];(Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&i&&i.id&&"string"==typeof i.id&&null!==i.id.match("kameleoon")&&i.closest&&null!==i.closest(".KameleoonProtected")&&(t=!1),t&&i&&i.innerHTML&&"childList"===e.type&&J.fillInternalObjectsForMutationObserver(i)}})),J.performWaitingElementPresentObject()})),"function"==typeof Kameleoon.Internals.runtime.mutationObserver.observe&&Kameleoon.Internals.runtime.mutationObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),Kameleoon.Internals.runtime.singlePageSupport&&J.setMutationObserverSPA()}static setMutationObserverSPA(){Kameleoon.Internals.runtime.mutationObserverSpa||Kameleoon.Internals.runtime.cantUseMutationObserver||Kameleoon.API.Core.runWhenElementPresent("body",(e=>{const t={childList:!0,subtree:!0};Kameleoon.Internals.runtime.mutationObserverSpa=new MutationObserver((function(e){Kameleoon.Internals.runtime.listenVariations=[],Kameleoon.Internals.runtime.mutationObserverSpa.disconnect(),J.executeCallbacks(e),J.checkDynamicElements(),n()}));const n=()=>{t.characterData=Kameleoon.ElementSet&&Kameleoon.ElementSet.pageElementSetsSpa.length>0||Kameleoon.Internals.runtime.listenSpaCallbacks.length>0,Kameleoon.Internals.runtime.mutationObserverSpa.observe(e[0],t)};n()}))}}J.MAX_MUTATIONS_LENGTH=3e3,J.MAX_MUTATIONS_LENGTH_FOR_ITERATION=5e3,J.asyncMutationsTimeoutId=null,J.mutationList=[],J.executeCallbacks=e=>{Kameleoon.Internals.runtime.listenSpaCallbacks.forEach((e=>Kameleoon.Utils.runProtectedFunction(e,!0)))},J.checkDynamicElements=()=>{Kameleoon.Internals.runtime.waitingDynamicElements.forEach((e=>{const t=Kameleoon.Utils.querySelectorAll(e.selector).filter((t=>null==t.getAttribute(e.attribute)));t.length>0&&e.callback(t)}))},J.checkElementSetIntegrity=()=>{},J.resetElementSet=(e,t,n)=>{},J.containsDomOperationElements=e=>{};class H{constructor(){this.MAX_REQUESTS_PER_VISIT=3,this.baseUrl="https://logger.kameleoon.com/api/2/store/?sentry_key=d8dc96c209184885ab9643cbaf1eb86f&sentry_version=7",this.canSend=()=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent()&&this.errorLoggerIds.length<this.MAX_REQUESTS_PER_VISIT){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerPopulation");if(null==e&&(this.population=e=Math.random(),Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerPopulation",e)),e<.01)return!0}return!1},this.generateRandomIdAsString=(e,t,n)=>Kameleoon.Utils.computeStringSha256(e+t+n).substr(0,32),this.generateRequestDataAsString=(e,t,n,i)=>{let a={tags:{siteCode:Kameleoon.Internals.configuration.siteCode},user:{},environment:Kameleoon.Internals.configuration.environment,platform:"javascript",event_id:t,request:{url:location.href,headers:{"User-Agent":navigator.userAgent}},exception:{values:[{type:e.name,value:e.stack?e.stack:e.message,stacktrace:{frames:[{filename:n}]},mechanism:{data:{mode:"stack",message:e.stack?e.stack:e.message,name:e.name},handled:!1,type:"onerror"}}]}};i&&(a.tags["action-id"]=i.id,a.tags["action-name"]=i.name,a.tags["action-type"]=i.experimentAction?"experiment":"personalization");try{a.user={id:Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Visitor&&Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode}}catch(e){a.user={id:"no_visitor_code"}}return JSON.stringify(a)},this.send=(e,t,n)=>{try{this.errorLoggerIds=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerRequestsSend")||this.errorLoggerIds;let i=this.generateRandomIdAsString(e.message,Kameleoon.Internals.configuration.siteCode,Kameleoon.Internals.configuration.environment);if(-1==this.errorLoggerIds.indexOf(i)){this.errors.push(e);let a=e.stack?e.stack:e.message;if(this.canSend()&&a&&a.trim().length>0){let a=new XMLHttpRequest;a.open("POST",this.baseUrl,!0),a.timeout=2e3,a.send(this.generateRequestDataAsString(e,i,t,n)),Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerRequestsSend",this.errorLoggerIds)}this.errorLoggerIds.push(i),(Kameleoon.Internals.runtime.parameters.kameleoonDebug||localStorage.kameleoonExtensionIsAdmin)&&console.log(e)}}catch(t){this.errors.push(e)}},this.errorLoggerIds=[],this.errors=[]}}class X{constructor(e,t){this.checkCustomExpositionRate=()=>{let e=!0;switch(this.customExpositionRate){case 1:break;case 0:e=!1;break;default:const t="kameleoonPersonalization-"+this.id,n=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData[t]||Kameleoon.Utils.readLocalData(t,"LS",!1);if(null!=n){e="true"==n.split("/")[0]}else e=Kameleoon.Utils.seededRandom(this.id+Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<this.customExpositionRate,Kameleoon.Utils.createLocalData(t,e+"/"+(new Date).getTime(),-1==this.id?1/24:30,null,"LS",!1)}return e},this.setBlocked=e=>{this.blockingReason=e,this.blocked=!0},this.setTargetingSegment=e=>{this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((e=>e.id==this.targetingSegmentId))[0]||{},e&&e!=this.targetingSegmentId||(this.targeting=void 0,this.rescheduleTargeting=null,this.numberTargetingCheckings=0,this.displayedVariation=null)},this.trigger=()=>{this.targeting||(this.blocked=!1,this.targeting=!0,this.displayedVariation=null)};for(const t in e)this[t]=e[t];if(Kameleoon.Internals.runtime.simulationMode){const e="kameleoonPersonalizationStatus-"+this.id,n=t?t[e]:Kameleoon.Utils.readLocalData(e,"LS",!0);n&&(this.forceTargeting=Kameleoon.Utils.runProtectedScript("return "+n.targetingStringAndExpositionString[0]),this.forceExposition=Kameleoon.Utils.runProtectedScript("return "+n.targetingStringAndExpositionString[1]))}e.autopromo&&Kameleoon.Internals.configuration.forceAutopromoTargetingToFalse&&this.setBlocked("AUTOPROMO");const n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);n.length>0&&-1!=n.indexOf(this.id)&&this.setBlocked("API"),Kameleoon.Analyst.Actions.associateActionAndVariation(this,0,"DISPLAYED_VARIATION"),this.setTargetingSegment()}static executeEmailingScript(){}static setGlobalPersonalizationDeviation(){const e="kameleoonGlobalPersonalizationExposition",t=Kameleoon.Internals.configuration.personalizationsDeviation;let n=Kameleoon.Internals.runtime.readFromStorageOrExternal(e,"LS");const i=n&&n.split("/");let a;null!=n&&i[2]!=t&&(n=null),n?a="true"==i[0]:(a=1==t||Kameleoon.Utils.seededRandom(Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<t,n=a+"/"+(new Date).getTime()+"/"+t,Kameleoon.Utils.createLocalData(e,n,v.MAX_STORAGE_DAYS,null,"LS",!1)),Kameleoon.Internals.runtime.personalizationsActive=a}}class Z{constructor(){this.errorKey="kameleoonRequestEvents",this.processRequests=()=>{if(Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){if(this.tabId||(this.tabId=Kameleoon.Utils.obtainRandomString(8,d.HEXADECIMAL_ALPHABET),Kameleoon.Utils.secureSessionStorage("setItem","kameleoonTabId",this.tabId)),this.callbacksToExecute.length>0){this.callbacksToExecute.splice(0,1e3).forEach((e=>e()))}if(this.eventsToSend.length>0&&this.validateTrackingRequest()){const e=this.eventsToSend.splice(0,1e3),t=this.obtainRequestBody(e);this.send(this.obtainVisitUrl(),"POST",t,(()=>{}),(()=>{this.createErrorEventsQueue(t)})),this.eventsToSend.length>0&&this.processRequests()}}},this.obtainRequestBody=e=>{const t=Kameleoon.Internals.runtime.Consent.getConsent();let n="";return n+=e.reduce(((e,n)=>(!n.notTrack&&this.validateTrackingConsent(n.eventType,t)&&(e+=n.obtainRequestData()+"\n"),e)),""),sessionStorage.getItem(this.errorKey)&&(n+=sessionStorage.getItem(this.errorKey),sessionStorage.removeItem(this.errorKey)),n},this.obtainVisitUrl=()=>{const e=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;return`${this.url}/visit/events?siteCode=${this.siteCode}&visitorCode=${e}&itp=${"Safari"===Kameleoon.Internals.runtime.Device.browser}${this.tabId?`&tabId=${this.tabId}`:""}`},this.obtainIpUrl=()=>this.url+"/ip",this.obtainGeolocationUrl=()=>this.url+"/geolocation",this.obtainWeatherUrl=e=>this.url+"/weather"+(e?"/forecast":"/weather"),this.send=(e,t,n,i,a,o)=>{const r=new XMLHttpRequest;r.open(t,e,!0),i&&(r.onreadystatechange=function(e){i.bind(r)(e.target)}),a&&(r.onabort=function(e){a.bind(r)(e.target)},r.onerror=function(e){a.bind(r)(e.target)},r.ontimeout=function(e){a.bind(r)(e.target)}),r.timeout=o||9e5,r.send("POST"==t&&n?n:null)},this.sendActiveScript=()=>{},this.sendProduct=(e,t)=>{},this.eventsToSend=[],this.callbacksToExecute=[],this.url=Kameleoon.Internals.runtime.DATA_URL,this.siteCode=Kameleoon.Internals.configuration.siteCode,this.tabId=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonTabId"),Kameleoon.Utils.setInterval(this.processRequests.bind(this),500),Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,"Safari"===Kameleoon.Internals.runtime.Device.browser?()=>this.eventsToSend.length&&this.createErrorEventsQueue(this.obtainRequestBody(this.eventsToSend)):this.processRequests.bind(this))}addCallback(e){Kameleoon.Internals.runtime.Consent.hasGlobalConsent()?e():this.callbacksToExecute.push(e)}addRequest(e){this.eventsToSend.push(e)}createErrorEventsQueue(e){e&&sessionStorage.setItem(this.errorKey,(sessionStorage.getItem(this.errorKey)||"")+e)}validateTrackingConsent(e,t){return"experiment"!==e&&"personalization"!==e||t.AB_TESTING&&"experiment"===e||t.PERSONALIZATION&&"personalization"===e}validateTrackingRequest(){return(!Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.enableRemoteVisitorSynchronization||Kameleoon.Internals.runtime.parameters["kameleoon-qa-mode"])&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode}}class Y{constructor(){this.segments={},this.obtainSegment=e=>e&&this.segments[e],this.checkTargetingCondition=(e,t,n)=>{let i;if(null==t.numberTargetingCheckings&&(t.numberTargetingCheckings=0),this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,void 0)){let a,o=Kameleoon.Targeting["evaluate_"+t.type];a=null!=o?o.bind(this)(t,e,n):null,null==a&&(a={targeting:void 0,rescheduleTargeting:!1});let r=a.targeting;!0!==t.include&&(void 0===r?!0===a.excludedUndefinedIsTargeted&&(r=!0):r=!r),i={targeting:r,rescheduleTargeting:this.checkIfTargetingMustBeComputed(r,a.rescheduleTargeting,void 0)},t.targeting=i.targeting,t.rescheduleTargeting=i.rescheduleTargeting,t.numberTargetingCheckings++}else i={targeting:t.targeting,rescheduleTargeting:!1};return!0===i.targeting?i.weight=t.weight:i.weight=0,i},this.checkTargetingSegmentsTargeting=e=>{let t=[];for(let n=0,i=e.length;n<i;++n){let i=e[n];null==i.numberTargetingCheckings&&(i.numberTargetingCheckings=0),this.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting||0==i.numberTargetingCheckings,!1)&&t.push(i)}e=t;for(let t=0,n=e.length;t<n;++t){let n=e[t],i=this.checkTree(null,n?n.tree:null,!1,n);n.targeting=i.targeting,n.rescheduleTargeting=i.rescheduleTargeting,n.numberTargetingCheckings++}let n=[];for(let t=0,i=e.length;t<i;++t){let i=e[t];this.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting,!1)&&n.push(i)}if(n.length>0){let e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e),this.processTargetingSegments(n)}),Kameleoon.Internals.runtime.domReady?Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY:Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}},this.checkTree=(e,t,n,i)=>{let a;if(null==t)a={targeting:!0,rescheduleTargeting:!1},n&&(a.weight=0);else{if(null==t.numberTargetingCheckings&&(t.numberTargetingCheckings=0),this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,n)){if(null!=t.targetingCondition)a=this.checkTargetingCondition(e,t.targetingCondition,i);else{let o=this.checkTree(e,t.leftChild,n,i),r=Kameleoon.Internals.runtime.simulationMode||n;if(!r)switch(o.targeting){case!0:t.orOperator||(r=!0);break;case!1:t.orOperator&&(r=!0);break;default:r=!0}let s,l=null;switch(r&&(l=this.checkTree(e,t.rightChild,n,i)),o.targeting){case!0:if(t.orOperator)s=!0;else switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;default:s=void 0}break;case!1:if(t.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;default:s=void 0}else s=!1;break;default:if(t.orOperator)if(!0===l.targeting)s=!0;else s=void 0;else switch(l.targeting){case!0:s=void 0;break;case!1:s=!1;break;default:s=void 0}}if(a={targeting:s,rescheduleTargeting:this.checkIfTargetingMustBeComputed(s,o.rescheduleTargeting||r&&l.rescheduleTargeting,n)},n){let e;e=t.orOperator?Math.max(o.weight,l.weight):o.weight+l.weight,a.weight=e}}t.targeting=a.targeting,t.rescheduleTargeting=a.rescheduleTargeting,n&&(t.weight=a.weight)}else a={targeting:t.targeting,rescheduleTargeting:!1},n&&(a.weight=t.weight);t.numberTargetingCheckings++}return a},this.computeDisplayableTree=e=>{let t=new Array,n=new Array;if(this.computeDisplayableTreeFirstLevelAddIn(e,t,n),n.length>0){let e=new Array,i=new Array,a=this.createIterator(t),o=this.createIterator(n);for(;o.hasNext();){let t=o.next();Kameleoon.Utils.testEmptyMap(t.conditions)?o.hasNext()&&a.next():(i.push(t),o.hasNext()&&e.push(a.next()))}t=i.length>0?e.slice(0,i.length-1):e,n=i}return{firstLevelOrOperators:t,secondLevel:n}},this.computeDisplayableTreeFirstLevelAddIn=(e,t,n)=>{null!=e&&(null==e.targetingCondition&&0==e.orGuiLevel?(this.computeDisplayableTreeFirstLevelAddIn(e.leftChild,t,n),t.push(e.orOperator),this.computeDisplayableTreeFirstLevelAddIn(e.rightChild,t,n)):n.push(this.computeDisplayableTreeSecondLevel(e)))},this.computeDisplayableTreeSecondLevel=e=>{let t=new Array,n=new Array;if(this.computeDisplayableTreeSecondLevelAddIn(e,t,n),n.length>0){let e=new Array,i=new Array,a=this.createIterator(t),o=this.createIterator(n);for(;o.hasNext();){let t=o.next();t.disabled?o.hasNext()&&a.next():(i.push(t),o.hasNext()&&e.push(a.next()))}t=i.length>0?e.slice(0,i.length-1):e,n=i}return{orOperators:t,conditions:n}},this.computeDisplayableTreeSecondLevelAddIn=(e,t,n)=>{null!=e&&(null==e.targetingCondition?(this.computeDisplayableTreeSecondLevelAddIn(e.leftChild,t,n),t.push(e.orOperator),this.computeDisplayableTreeSecondLevelAddIn(e.rightChild,t,n)):n.push(e.targetingCondition))},this.flattenTree=e=>{let t=(e,n)=>{if(null!=e){if(null!=e.targetingCondition)return!1===e.targetingCondition.targeting?["!",e.targetingCondition]:e.targetingCondition;{let i=e.orOperator?"OR":"AND",a=[t(e.leftChild,i),i,t(e.rightChild,i)];return"AND"==n&&"OR"==i?["(",a,")"]:a}}};return Kameleoon.Utils.flatten(t(e,"OR"))},this.processAllTargetingSegments=()=>{const e=Kameleoon.Internals.runtime.targetingSegments||[];e.forEach((e=>{this.segments[e.id]=e})),this.processTargetingSegments(e)},this.processTargetingSegments=e=>{this.checkTargetingSegmentsTargeting(e);let t=[];for(let n=0,i=e.length;n<i;++n){let i=e[n];!0===i.targeting&&t.push(i)}this.performSegmentsTracking(t)}}checkIfTargetingMustBeComputed(e,t,n){return!0===t&&(void 0===e||!1===e&&!0===n)}createIterator(e){let t=0;return{hasNext:function(){return t<e.length},next:function(){return e[t++]}}}performSegmentsTracking(e){for(let t=0,n=e.length;t<n;++t){let n=e[t];Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:n.id,name:n.name}}),(Kameleoon.Internals.configuration.useAudience||n.opportunityDetection||n.onboarding||Kameleoon.Internals.runtime.mentalistRun&&n.mentalist)&&Kameleoon.Gatherer.track(D,{id:n.id})}}}Y.prototype.evaluate_CUSTOM_DATUM=function(e){if(Kameleoon.Internals.runtime.gathererRun){let t;const n=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[e.index],i={customDataValue:"",conditionValue:e.value,CONTAINS(){if(this.customDataValue.indexOf(this.conditionValue)>=0)return!0},EXACT(){if(this.customDataValue===this.conditionValue)return!0},REGULAR_EXPRESSION(){if(RegExp(this.conditionValue).test(this.customDataValue))return!0},LOWER(){if(this.customDataValue=parseFloat(this.customDataValue),!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue<this.conditionValue},EQUAL(){if(this.customDataValue=parseFloat(this.customDataValue),!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue==this.conditionValue},GREATER(){if(this.customDataValue=parseFloat(this.customDataValue),!isNaN(this.conditionValue)&&!isNaN(this.customDataValue))return this.customDataValue>this.conditionValue},TRUE(){if("true"===this.customDataValue)return!0},FALSE(){if("false"===this.customDataValue)return!0},AMONG_VALUES(){try{const e=JSON.parse(this.conditionValue);for(let t=0,n=e.length;t<n;t++)if(e[t]==this.customDataValue)return!0}catch(e){return!1}},RANGE(){try{const[e,t]=JSON.parse(this.conditionValue);if(this.customDataValue=parseFloat(this.customDataValue),!isNaN(this.customDataValue))return this.customDataValue>=e&&this.customDataValue<=t}catch(e){return!1}}};if(null==n)t="UNDEFINED"==e.operator||void 0;else{t=!1;for(const a in n)if(i[e.operator]){i.customDataValue=a.toString();const n=i[e.operator]();if("boolean"==typeof n){t=n;break}}}return{targeting:t,rescheduleTargeting:void 0===t}}return null},Y.prototype.evaluate_EVENT=function(e){let t;for(let n=0,i=Kameleoon.API.Events.triggered.length;n<i;++n)if(e.value==Kameleoon.API.Events.triggered[n]){t=!0;break}return{targeting:t,rescheduleTargeting:void 0===t}},Y.prototype.evaluate_PAGE_URL=function(e){let t,n=new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.value));try{t=n.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){try{t=!!unescape&&n.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){t=!1}}return{targeting:t,rescheduleTargeting:!1}},Y.prototype.evaluate_TEALIUM_BADGE=function(e){let t,n=Kameleoon.Tracking.obtainTealiumData(),i=n&&n.badges,a=!1;if(i){a=!0;let n=e.badges;for(let e=0,a=n.length;e<a;++e){if(i[n[e].id]){t=!0;break}}}return{targeting:t,rescheduleTargeting:void 0===t,excludedUndefinedIsTargeted:a}};class Q{constructor(){this.timeBeforeSendTracking=12e5,this.checkAndSetKameleoonTrackingTime=(e,t)=>{const n=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonAnalyticsTrackingTimes"),i=null==n?{}:JSON.parse(n),a="Experiment-"+e;return(null==i[t]||null==i[t][a]||(new Date).getTime()>=i[t][a]+this.timeBeforeSendTracking)&&(null==i[t]&&(i[t]={}),i[t][a]=(new Date).getTime(),Kameleoon.Utils.secureSessionStorage("setItem","kameleoonAnalyticsTrackingTimes",JSON.stringify(i)),!0)},this.obtainTealiumData=()=>{if(window.utag&&window.utag.data){let e,t="tealium_va",n=localStorage.getItem(t);if(null==n&&(window.utag.data["va.properties.account"]&&(t+="_"+window.utag.data["va.properties.account"]),window.utag.data["va.properties.profile"]&&(t+="_"+window.utag.data["va.properties.profile"]),n=localStorage.getItem(t)),null==n)return null;n=JSON.parse(n);try{e=n.current_visit.dates[11]+2e3}catch(e){}if(null==e||e>Kameleoon.Internals.runtime.pageStartTime||!Kameleoon.Internals.runtime.isReloaded)return n}},this.processCustomIntegration=e=>{}}}Q.prototype.processContentSquare=function(e){if(null!=window._uxa){if(Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(e.id,"ContentSquare")){const t=e.experimentAction?"AB":"PERSO";window._uxa.push(["trackDynamicVariable",{key:t+"_Kameleoon_"+e.id,value:(0===e.associatedVariation.id?"reference":e.associatedVariation.id).toString()}])}}else Kameleoon.Utils.setTimeout((function(){Kameleoon.Tracking.processContentSquare.apply(Kameleoon.Tracking,[e])}),150)};class ${constructor(e){this.getAction=()=>Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);for(const t in e)this[t]=e[t]}applyJavascriptCode(e){return this.javaScriptCode&&this.javaScriptCode.code&&(null==this.javaScriptCode.evaluated||e)?(this.javaScriptCode.evaluated=!0,Kameleoon.Utils.runProtectedScript(this.javaScriptCode.code,"kameleoonVariationJavaScriptCode-"+this.id+".js")):null}preProcessRedirect(e){}process(){const e=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);this.styleSheetAdded||(this.styleSheetAdded=!0,Kameleoon.Utils.addCSSStyleSheet(this.css,e,null)),this.javaScriptCode&&!this.permanentRefreshActive&&(this.javaScriptCode.afterDOMReady?this.permanentRefreshActive||Kameleoon.Utils.domReady((()=>{this.applyJavascriptCode(!1)})):this.applyJavascriptCode(!1));const t="enginePollerForVariation"+this.id;Kameleoon.Internals.runtime[t]&&!this.permanentRefreshActive&&(Kameleoon.Internals.runtime.cantUseMutationObserver&&Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime[t]),Kameleoon.Internals.runtime[t]=null),Kameleoon.Internals.runtime[t]||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode||(this.permanentRefreshActive=!0,Kameleoon.Internals.runtime.listenVariations.push(this),Kameleoon.Internals.runtime[t]=!0,Kameleoon.Internals.runtime.cantUseMutationObserver&&(Kameleoon.Internals.runtime[t]=Kameleoon.Utils.setInterval((()=>{this.process()}),10)))}processReplaceData(e){}}class ee{constructor(e){this.addActionTriggered=(e,t)=>{const n=t?"experimentsTriggered":"personalizationsTriggered",i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer",n,{});i[e.toString()]=!0,Kameleoon.Internals.runtime.storedData.saveField("Gatherer",n,i)},this.addEvent=e=>{this.lastEventDate=e},this.addAdBlocker=()=>{this.Device.adBlocker=!0},this.addConversions=(e,t,n,i)=>{let a=i?-1:1;t*=a,n*=a;let o=this.conversions[e],r=(o?o.count:0)+t,s=(o?o.revenue:0)+n;r>0&&s>=0?this.conversions[e]={count:r,revenue:s}:delete this.conversions[e]},this.addCustomData=(e,t,n)=>{if(Kameleoon.Utils.testEmptyMap(t))n&&delete this.customData[e];else{(n||null==this.customData[e])&&(this.customData[e]={});for(let n in t)this.customData[e][n]=(this.customData[e][n]||0)+t[n]}},this.addExperiment=(e,t,n)=>{if(null!==n&&(void 0===this.ExperimentActivations[t]&&(this.ExperimentActivations[t]={associatedVariationID:n,times:[]}),this.ExperimentActivations[t].times.push(e),-1!=t)){let e=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(t,!0),n=e?e.attributionWindow:te.INFLUENCE_DELAY;n>0&&(this.ExperimentActivations[t].influence=n)}},this.addGeolocation=e=>{this.Geolocation=e},this.addClicks=e=>{e>0&&(this.clicks+=e)},this.addPage=(e,t,n,i)=>{let a=i.filter((e=>null!=e));this.pages.push({timestamp:e,keyPagesMatched:n,referrersMatched:a.length>0?a:[]});let o=this.pageURLsVisited[t];null==o&&(o=[],this.pageURLsVisited[t]=o),o.push(e);for(let e in this.productEansLastPage)this.productEansAllButLastPages[e]=!0;this.productEansLastPage={}},this.addPersonalization=(e,t,n)=>{if(0==n)return null;if((void 0===this.PersonalizationActivations[t]||null!=n&&null==this.PersonalizationActivations[t].associatedVariationID)&&(this.PersonalizationActivations[t]={associatedVariationID:n,times:[]}),this.PersonalizationActivations[t].times.push(e),-1!=t){let e=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(t,!1),n=e?e.attributionWindow:te.INFLUENCE_DELAY;n>0&&(this.PersonalizationActivations[t].influence=n)}},this.addProduct=e=>{this.productEansLastPage[e]=!0},this.addTargetingSegment=(e,t)=>{let n=this.activatedSegments[t];null==n&&(n=[],this.activatedSegments[t]=n),n.push(e)},this.addWeather=e=>{this.Weather=e},this.clearCustomDataPage=()=>{for(let e in Kameleoon.Internals.runtime.Gatherer.configuration.customData){"PAGE"==Kameleoon.Internals.runtime.Gatherer.configuration.customData[e].scope&&delete this.customData[e]}},this.computeActionNumberActivations=(e,t,n,i)=>null==i[e]?0:this.computeObjectNumberPresence(t,n,i[e].times),this.computeObjectNumberPresence=(e,t,n)=>{let i=0;for(let a=0,o=n.length;a<o;++a){let o=n[a];(null==e||o>=e)&&(null==t||o<=t)&&i++}return i},this.isVisitFinished=()=>this.lastEventDate<(new Date).getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration,this.obtainKeyPageIsVisited=e=>this.pages.filter((t=>-1!=t.keyPagesMatched.indexOf(e))).length>0,this.obtainMeanPageDuration=()=>{},this.obtainNumberConversions=e=>{let t=this.conversions[e];return null==t?0:t.count},this.obtainPageNumberViews=(e,t,n,i)=>{let a=0;for(let o in this.pageURLsVisited)if(null!=o){let r=Kameleoon.Utils.computeRelativeURL(o);null!=e&&!e.test(o)&&!e.test(r)||null!=t&&(t.test(o)||t.test(r))||(a+=this.computeObjectNumberPresence(n,i,this.pageURLsVisited[o]))}return a},this.obtainTimesStartedPages=()=>{let e=[];for(let t in this.pageURLsVisited)e.concat(this.pageURLsVisited[t]);return e.sort()},this.obtainPersonalizationNumberActivations=(e,t,n)=>this.computeActionNumberActivations(e,t,n,this.PersonalizationActivations),this.obtainReferrerIsPresent=e=>{let t=null==e?null:e+1,n=this.pages.filter((e=>-1!=e.referrersMatched.indexOf(t)));return n.length>0},this.visitNumber=e.visitNumber||0,this.landingPageURL=e.landingPageURL||null,this.productEansAllButLastPages=e.productEansAllButLastPages||{},this.productEansLastPage=e.productEansLastPage||{},this.startDate=e.startDate||0,this.pageURLsVisited=e.pageURLsVisited||{},this.activatedSegments=e.activatedSegments||{},this.visitorCode=e.visitorCode||"",this.customData=e.customData||{},this.clicks=e.clicks||0,this.lastEventDate=e.lastEventDate||e.lastActivityDate||this.startDate;let t=e.Device||{};this.Device={adBlocker:t.adBlocker||!1,browser:t.browser||"Other",browserVersion:t.browserVersion||null,os:t.os||"Other",screenHeight:t.screenHeight||null,screenWidth:t.screenWidth||null,timeZone:t.timeZone||"UTC",type:t.type?t.type.toLocaleUpperCase():null,windowHeight:t.windowHeight||null,windowWidth:t.windowWidth||null};let n=e.Geolocation||{};this.Geolocation={city:n.city||null,country:n.country||null,latitude:n.latitude||null,longitude:n.longitude||null,postalCode:n.postalCode||null,region:n.region||null};let i=e.Weather||{};this.Weather={conditionCode:i.conditionCode||null,conditionDescription:i.conditionDescription||null,cloudiness:i.cloudiness||null,humidity:i.humidity||null,pressure:i.pressure||null,sunrise:i.sunrise||null,sunset:i.sunset||null,temperature:i.temperature||null,windSpeed:i.windSpeed||null},this.conversions=e.conversions||{},this.ExperimentActivations=e.ExperimentActivations||{},this.PersonalizationActivations=e.PersonalizationActivations||{},this.pages=e.pages||[]}obtainExperimentNumberActivations(e,t,n){return this.computeActionNumberActivations(e,t,n,this.ExperimentActivations)}}class te{constructor(){this.addVisit=e=>{this.visits.push(e),this.currentVisit=e,this.totalVisits++,null==this.timeStartedEldestVisit&&(this.timeStartedEldestVisit=e.startDate);const t=this.visits.length,n=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);t>n&&(this.visits=this.visits.slice(t-n))},this.obtainKeyPageIsVisited=e=>{for(let t=0,n=this.visits.length;t<n;++t)if(this.visits[t].obtainKeyPageIsVisited(e))return!0;return!1},this.obtainReferrerIsPresent=e=>{for(let t=0,n=this.visits.length;t<n;++t)if(this.visits[t].obtainReferrerIsPresent(e))return!0;return!1},this.obtainNumberConversions=e=>{let t=0;for(let n=this.visits.length-1;n>=0;--n)t+=this.visits[n].obtainNumberConversions(e);return t},this.obtainActionNumberActivations=(e,t,n,i,a,o,r,s)=>{const l=s?"obtainExperimentNumberActivations":"obtainPersonalizationNumberActivations",c=Kameleoon.Internals.runtime.Visitor.visits.length;let d=0;if(c>0){if(a){const t=Kameleoon.Internals.runtime.Visitor.visits[c-1][l](e,n,i);d+=r?t>0?1:0:t}if(o)for(let t=0,a=c-1;t<a;++t){const a=this.visits[t][l](e,n,i);d+=r?a>0?1:0:a}}return d},this.obtainPageNumberViews=(e,t,n,i,a,o)=>{const r=this.visits.length;let s=0;if(r>0&&(a&&(s+=this.visits[r-1].obtainPageNumberViews(e,t,n,i)),o))for(let a=0,o=r-1;a<o;++a)s+=this.visits[a].obtainPageNumberViews(e,t,n,i);return s},this.obtainTimeSincePreviousVisit=()=>{let e=0;return this.visits.length>1&&(e=this.currentVisit.startDate-this.visits.slice(-2)[0].lastEventDate,e=Math.max(e,Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration)),e},this.obtainVisitorCode=e=>{let t=!1,n=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");const i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","timeNextSynchronization",null);if(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage){const e=Kameleoon.Internals.runtime.incomingStoredData?Kameleoon.Internals.runtime.incomingStoredData.kameleoonVisitorCode:Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");e&&(n=e)}return(e||null==n)&&(n=Kameleoon.Utils.obtainRandomString(te.VISITOR_CODE_LENGTH,d.CODE_ALPHABET),t=!0),Kameleoon.Utils.saveVisitorCode(n,null==i),this.visitorCode=n,t},this.obtainVisitorFromStoredData=()=>Kameleoon.Internals.runtime.storedData.Visitor,this.saveToStoredData=()=>{this.saveFieldToStoredData("visits",this.visits),this.saveFieldToStoredData("totalVisits",this.totalVisits),this.saveFieldToStoredData("timeStartedEldestVisit",this.timeStartedEldestVisit)},this.setVisitorCode=e=>{this.visitorCode!=e&&(Kameleoon.Internals.runtime.newVisitorCode=!0,Kameleoon.Utils.saveVisitorCode(e),this.visitorCode=e,Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode=e,this.visits&&this.visits.forEach((t=>{t.visitorCode=e})),Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).forEach((e=>{void 0!==e.registeredVariationId&&(e.registeredVariationId=void 0,e.performVariationAssignment(!0))})),Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1).forEach((e=>{e.customExpositionRate&&(Kameleoon.Internals.runtime.incomingStoredData&&delete Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalization-"+e.id],Kameleoon.Utils.eraseLocalData("kameleoonPersonalization-"+e.id,null,"LS"))})),this.saveToStoredData(),Kameleoon.Gatherer.track(U),Kameleoon.Gatherer.track(R))},this.updateFromStoredData=(e,t,n)=>{const i=this.obtainVisitorFromStoredData(),a=i.visits;if(!this.visitorCode){this.obtainVisitorCode(n)&&(n=!0)}if(a){const t=a.slice(-1)[0].visitorCode;if(t!=this.visitorCode){const i=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS")||Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");if(i!=t&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent())i==this.visitorCode&&(n=!0);else{this.visitorCode=t;try{delete Kameleoon.Internals.runtime.localDataMap.COOKIE.kameleoonVisitorCode,delete Kameleoon.Internals.runtime.localDataMap.LS.kameleoonVisitorCode}catch(e){}}}}(n||e)&&(t=!0,n&&(this.totalVisits=0)),this.visits=[],!n&&a&&(a.forEach((e=>{this.addVisit(new ee(e))})),this.totalVisits=i.totalVisits,this.timeStartedEldestVisit=i.timeStartedEldestVisit);let o=!1;if(t||!this.currentVisit||this.currentVisit.isVisitFinished()){const{Device:e,storedData:t}=Kameleoon.Internals.runtime,i=t.obtainField("Gatherer","startsOfVisitForCurrentPage");let a;t.saveField("Gatherer","startsOfVisitForCurrentPage",i+1),Kameleoon.Internals.runtime.Gatherer.startOfVisit=!0,t.resetForStartOfVisit(),t.saveField("Runtime","firstReferrerHref",Kameleoon.Gatherer.Referrer.obtainCorrected(!0)||null),t.saveField("Runtime","firstReferrersIndices",Kameleoon.Gatherer.Referrer.obtainIndexes(!0)||[null]),t.saveField("Runtime","landingKeyPagesIndices",Kameleoon.Gatherer.KeyPage.obtainIndexes()||[null]),a=!this.currentVisit||n?0:this.currentVisit.visitNumber+1,this.addVisit(new ee({visitorCode:this.visitorCode,startDate:(new Date).getTime(),visitNumber:a,landingPageURL:Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),Device:{browser:Kameleoon.Gatherer.Browser.obtain(),browserVersion:e.browserVersion,os:Kameleoon.Gatherer.OperatingSystem.obtain(),screenHeight:e.screenHeight,screenWidth:e.screenWidth,timeZone:Kameleoon.Gatherer.TimeZone.obtainId(),type:e.type,windowHeight:e.windowHeight,windowWidth:e.windowWidth}})),o=!0}this.saveToStoredData(),Kameleoon.Internals.runtime.storedData.save(o)},this.getCustomDataVisitor=()=>{const e={},t=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const n in Kameleoon.Internals.runtime.Visitor.currentVisit.customData){const i=t[n];if(null!=i&&!i.disabled&&"VISITOR"==i.scope){const t=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[n];e[n]=t}}return e},this.registerVisitsRequestSuccess=e=>{},this.compareCurrentVisitFromServer=e=>{},this.performRemoteVisitorSynchronization=()=>{},this.obtainProductData=(e,t,n,i)=>{},this.obtainIdentifierValue=()=>this.visitorCode,this.visits=[],this.currentVisit=null,this.totalVisits=0,this.updateFromStoredData(!1),Object.defineProperty(this,"customData",{enumerable:!0,get:()=>this.getCustomDataVisitor()})}saveFieldToStoredData(e,t){Kameleoon.Internals.runtime.storedData.Visitor[e]=t}remoteSynchronisation(e,t,n,i){}}te.VISITOR_CODE_LENGTH=16,te.INFLUENCE_DELAY=6048e5;try{window.Kameleoon=new g}catch(e){console.log(e)}Kameleoon.Internals={configuration:{API_HOST_NAME:"api",APP_HOST_NAME:"app",BACK_OFFICE_HOST_NAME:"old",EDITOR_SRC:"src/main.ts",STATIC_IMAGES_URL:"//static.kameleoon.com/js/editor/source/images/",BASE_EDITOR_URL:"//static.kameleoon.com/js/editor/",NEW_EDITOR_URL:"//graphical-editor.kameleoon.com",EDITOR_HOST_NAME:"editor",DOMAIN:"kameleoon.com",SITE_RESOURCES_DOMAIN:"kameleoon.eu",GUI_ESTIMATED_LOADING_TIME:3e3,IMAGE_PATH:"https://921hlle6d1.kameleoon.eu/images/",PROXY_HOST_NAME:"proxy",QOOXDOO_ESTIMATED_LOADING_TIME:2e3,SERVER_CALL_ESTIMATED_LOADING_TIME:500,STATIC_DIRECT_HOST_NAME:"static-direct",STATIC_HOST_NAME:"static",environment:"PRODUCTION",staticURL:"//static.kameleoon.eu/",maxNumberLocalVisits:25,memberCode:"0",siteCode:"921hlle6d1",abtestConsent:"REQUIRED",abtestConsentOptout:"RUN",beforeAbtestConsent:"PARTIALLY",beforePersonalizationConsent:"PARTIALLY",personalizationConsent:"REQUIRED",personalizationConsentOptout:"RUN",personalizationsDeviation:.9,experiments:[{id:213264,name:"prod-protect-poc-wcb",baseURL:"https://particuliers.sg.fr/assurances/nos-offres/assurances-habitation/assurance-habitation",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1734530243e3,dateStatusModified:1734530243e3,goals:[300732,300736],deviation:{0:0,882781:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:882781,deviation:1}],targetingSegmentId:232411,attributionWindow:"604800000",winningVariationId:882781,kameleoonTracking:{mainGoalId:300732}},{id:257569,name:"prod-selfcarebaq-message-activation-carte-en-ligne",baseURL:"https://particuliers.sg.fr/icd/gkb/activation-carte-authsec.html#/form?b64e200_aliasCarte=A090541318Crm5NZn0xXsb5wlR000&b64e200_idTransaction=6H2YFfmQx6naEprUoHOO1KkCE8R%2F%2BW8%3D",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1745912868e3,dateStatusModified:1745912868e3,goals:[118038],deviation:{0:.5,994317:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:994317,deviation:.5}],targetingSegmentId:276301,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:118038}},{id:274297,name:"prod-credit-cc-simulateur-resultat-cta",baseURL:"https://particuliers.sg.fr/",experimentAction:!0,technical:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1748338474e3,dateStatusModified:1748338474e3,goals:[118038,311509,311512,311662,311665],deviation:{0:0,1031559:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:1031559,deviation:1}],targetingSegmentId:289284,attributionWindow:"604800000",winningVariationId:1031559,contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311509}},{id:290735,name:"prod-protect-mrh-mra-composant-formules",baseURL:"https://particuliers.sg.fr/",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1747637891e3,dateStatusModified:1747637891e3,goals:[300731,300732,300735,300736],deviation:{0:0,1071533:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:1071533,deviation:1}],targetingSegmentId:283472,attributionWindow:"604800000",winningVariationId:1071533,contentSquareTracking:!0,kameleoonTracking:{mainGoalId:300731}},{id:291815,name:"prod-epargne-abandonniste-livret-a-mineur",baseURL:"https://particuliers.sg.fr/applimobile/epargner-placer-son-argent/nos-offres/livrets-epargne/livrets-jeunes-mineurs/livret-a-enfant-mineur",experimentAction:!0,technical:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1749547879e3,dateStatusModified:1749547879e3,goals:[118038],deviation:{0:.5,1074027:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1074027,deviation:.5}],targetingSegmentId:308128,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:118038}},{id:299108,name:"prod-protect-aav-arguments",baseURL:"https://particuliers.sg.fr/assurances/nos-offres/assurance-accidents-de-la-vie",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1747637852e3,dateStatusModified:1747637852e3,goals:[311534,311536,311535],deviation:{0:0,1090432:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:1090432,deviation:1}],targetingSegmentId:295118,attributionWindow:"604800000",winningVariationId:1090432,contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311534}},{id:300317,name:"prod-epargner-redirection-prospect-fp",baseURL:"https://particuliers.sg.fr/epargner-placer-son-argent/nos-offres/pea-plan-epargne-actions",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:174783141e4,dateStatusModified:174783141e4,goals:[118038],deviation:{0:0,1093791:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:1093791,deviation:1}],targetingSegmentId:327968,attributionWindow:"604800000",winningVariationId:1093791,contentSquareTracking:!0,kameleoonTracking:{mainGoalId:118038}},{id:302995,name:"prod-credit-cc-simulateur-resultat-sticky",baseURL:"https://particuliers.sg.fr/",experimentAction:!0,technical:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1748339408e3,dateStatusModified:1748339408e3,goals:[311662,311664,311665,311509,311510,311512],deviation:{0:0,1099937:1},variations:[{name:"Reference",id:0,deviation:0},{name:"Variation 1",id:1099937,deviation:1}],targetingSegmentId:321161,attributionWindow:"604800000",winningVariationId:1099937,contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311662}},{id:307443,name:"prod-protect-hub-produits",baseURL:"https://particuliers.sg.fr/assurances",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:174973519e4,dateStatusModified:174973519e4,goals:[311534,300734,300729,311536,300736,300732],deviation:{0:.5,1111929:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1111929,deviation:.5}],targetingSegmentId:333116,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311534}},{id:308405,name:"prod-credit-lpas-suppression-slider-projet",baseURL:"https://particuliers.sg.fr/secure/pret/espace-thematique-pret-avenir/landing-page/exclu-web-mai-2025",experimentAction:!0,javaScriptCode:'Kameleoon.API.Core.runWhenElementPresent(".stl_section.stl_section--hero",(function(){!function e(){let t=document.querySelector("#awt_ccw_container .SGTitleStyled-sc-1uu0wpc-0.ieFALr");if(t){t.innerHTML="Simulez votre crdit et effectuez votre demande en ligne";let e=document.querySelector("#awt_ccw_container .SGBlockStyled-sc-go0w5h-0.bqiRxh");e.classList.add("stl_title--3"),e.innerHTML="Quel est votre projet ?"}else setTimeout(e,1e3)}()}));',executeCodeForReference:!0,forcedTechnical:!1,dateModified:174904033e4,dateStatusModified:174904033e4,goals:[311513,311514,311662,311664,311665,311509,311510,311512],deviation:{0:.5,1114038:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1114038,deviation:.5}],targetingSegmentId:328222,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311513}},{id:308419,name:"prod-credit-lpss-composant-slider-projet",baseURL:"https://particuliers.sg.fr/campagne-media/emprunter/tf-bfm-juin-2025",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1749040263e3,dateStatusModified:1749040263e3,goals:[311513,311514,311515,311662,311664,311665,311509,311510,311512],deviation:{0:.5,1114062:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1114062,deviation:.5}],targetingSegmentId:329023,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311513}},{id:309865,name:"prod-credit-fp-redirection-simu-co",baseURL:"https://particuliers.sg.fr/emprunter/pret-credit-consommation",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1749039985e3,dateStatusModified:1749039985e3,goals:[311513,311514,311515],deviation:{0:.5,1117267:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1117267,deviation:.5}],targetingSegmentId:330156,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:311513}},{id:312653,name:"prod-protect-mrhe-cta",baseURL:"https://particuliers.sg.fr/assurances/nos-offres/assurance-habitation-etudiant",experimentAction:!0,executeCodeForReference:!0,forcedTechnical:!1,dateModified:1750340732e3,dateStatusModified:1750340732e3,goals:[300733],deviation:{0:.5,1123846:.5},variations:[{name:"Reference",id:0,deviation:.5},{name:"Variation 1",id:1123846,deviation:.5}],targetingSegmentId:334187,attributionWindow:"604800000",contentSquareTracking:!0,kameleoonTracking:{mainGoalId:300733}}],personalizations:[{dateCreated:1674572752e3,dateModified:1709055852e3,dateStatusModified:1674573243e3,id:105516,forcedTechnical:!1,goals:[118038],name:"prod-cc-popin-connexion-client",targetingSegmentId:201875,mainGoalId:118038,configuration:"TEMPLATE",associatedVariation:{id:818217,name:"Variation 1"},priority:1,customExpositionRate:1,personalizationCheckConditionsRule:"ALL_CONDITIONS",scheduleItem:[],targetingSegment:null,attributionWindow:"604800000",expositionFrequencySameVisit:1,expositionFrequencySameVisitorDelaySeconds:21600,kameleoonTracking:{mainGoalId:null}}],targetingSegments:[{id:201875,name:"prod-cc-exp-popin-connexion-1",tree:{orOperator:!0,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"CONTAINS",include:!0,value:"emprunter::credit-consommation::"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"CONTAINS",include:!0,value:"::saisie"}}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:8,operator:"TRUE",include:!0,value:null}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"CONTAINS",include:!0,value:"website"}}}},rightChild:{orOperator:!1,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"EVENT",disabled:!1,weight:1,value:"scroll_section",include:!0}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:9,operator:"CONTAINS",include:!0,value:"tenso_simulators_wrap"}}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"CONTAINS",include:!0,value:"emprunter::credit-consommation::landing-page::"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:8,operator:"TRUE",include:!0,value:null}}}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"CONTAINS",include:!0,value:"website"}}}}},{id:232411,name:"Assurance - POC WCB desktop",tree:{orOperator:!0,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"assurer::assurance-habitation::devis::.+|assurer::assurance-habitation::souscription::.+|assurer::assurance-auto::devis::.+|assurer::assurance-auto::souscription::.+"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"EXACT",include:!0,value:"website"}}},rightChild:{orOperator:!0,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"EXACT",include:!0,value:"assurer::espace-thematique"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"CONTAINS",include:!0,value:"website"}}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)icd/assup/index-new-assup-authsec\\.html#/devis/habitation/declaration_pack(.*)",include:!0}}}}},{id:276301,name:"selfcarebaq-message-activation-carte-en-ligne",tree:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"EXACT",include:!0,value:"comptes-budget::mes-cartes::activation-carte::formulaire"}}},{id:283472,name:"PROTECT - MRA-MRH - Choix formule",tree:{orOperator:!1,orGuiLevel:0,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"assurer::assurance-habitation::devis::tarif::choix-formule|assurer::assurance-auto::devis::tarif::choix-formule"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"CONTAINS",include:!0,value:"webview"}}}},{id:289284,name:"CC - Simulateur Co - Rsultat",tree:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"EXACT",include:!0,value:"emprunter::credit-consommation::simulateur::resultat-simulation"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:7,operator:"CONTAINS",include:!0,value:"true"}}}},{id:295118,name:"PROTECT - Fiche produit AVV",tree:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"applimobile::assurances::nos-offres::assurance-accidents-de-la-vie---new|assurer::assurance-accidents-de-la-vie::accueil"}}},{id:308128,name:"Epargner - Landing livret A mineur",tree:{orOperator:!1,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:0,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"epargner::livret-epargne::livret-a-mineur|applimobile::epargner-placer-son-argent::nos-offres::livret-a-enfant-mineur"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:2,operator:"CONTAINS",include:!0,value:"webview"}}},rightChild:{targetingCondition:{type:"TEALIUM_BADGE",disabled:!1,weight:1,badges:[{id:"5838",name:"UCTWA - Parcours Livret A Mineur"}],include:!0}}}},{id:321161,name:"CC - Simulateur Co - Rsultat (hors LP Co)",tree:{orOperator:!1,orGuiLevel:0,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"EXACT",include:!0,value:"emprunter::credit-consommation::simulateur::resultat-simulation"}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:7,operator:"CONTAINS",include:!0,value:"true"}}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-bfm-juin-2025-2(.*)",include:!1}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-bfm-juin-2025(.*)",include:!1}}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-juin-2025-2(.*)",include:!1}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-juin-2025(.*)",include:!1}}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-bfm-mai-2025(.*)",include:!1}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-bfm-mai-2025-2(.*)",include:!1}}}}}}},{id:327968,name:"Epargner - Liste Fiches Produits & Simulateurs + user_is_identified=false",tree:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:8,operator:"FALSE",include:!0,value:null}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"epargner::livret-epargne::lep|epargner::livret-epargne::livret-epargne-plus|epargner::livret-epargne::livret-bfm-avenir|epargner::livret-epargne::livret-jeune|epargner::placement-financier::compte-a-terme |epargner::bourse::pea-plan-epargne-actions|epargner::bourse::cto-compte-titres-ordinaire|epargner::bourse::pea-pme-plan-epargne-actions-entreprises|epargner::assurance-vie::accueil|epargner::assurance-vie::per-acacia|epargner::gestion-patrimoine::alliage-gestion|epargner::gestion-patrimoine::gestion-sous-mandat|epargner::livret-epargne::service-epargne-solidaire-dons-associations |epargner::livret-epargne::livret-a-mineur|epargner::diagnostic-epargne::accueil|epargner::livret-epargne::livret-a|epargner::livret-epargne::ldds|epargner::livret-epargne::compte-sur-livret|epargner::assurance-vie::simulateur::resultats|epargner::livret-d-epargne-populaire::simulateur::resultat|epargner::livret-epargne-plus::simulateur::resultat"}}}},{id:328222,name:"CC - LP Campagnes BFM + EXP - Co",tree:{orOperator:!0,orGuiLevel:0,leftChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/exclu-web-mai-2025(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/exclu-web-mai-2025-2(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-bfm-mai-2025-2(.*)",include:!0}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-bfm-mai-2025(.*)",include:!0}}}}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-bfm-juin-2025(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-juin-2025-2(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)secure/pret/espace-thematique-pret-avenir/landing-page/tf-juin-2025(.*)",include:!0}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-bfm-juin-2025-2(.*)",include:!0}}}}}}},{id:329023,name:"CC - LP Campagnes BFM + EXP - Dco",tree:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)campagne-media/emprunter/tf-bfm-juin-2025(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-bfm-juin-2025-1(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)campagne-media/emprunter/tf-juin-2025(.*)",include:!0}},rightChild:{orOperator:!0,orGuiLevel:1,leftChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/tf-juin-2025-1(.*)",include:!0}},rightChild:{targetingCondition:{type:"PAGE_URL",disabled:!1,weight:1,value:"(.*)emprunter/campagnes-promo/exclu-web-mai-2025-1(.*)",include:!0}}}}}}},{id:330156,name:"CC - Fiches produit - Clients dco",tree:{orOperator:!1,orGuiLevel:0,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"REGULAR_EXPRESSION",include:!0,value:"emprunter::credit-consommation::accueil|emprunter::credit-consommation::credit-conso-expresso|emprunter::credit-consommation::pret-credit-travaux-expresso|emprunter::credit-consommation::pret-bfm-liberte|emprunter::credit-consommation::credit-auto-expresso"}},rightChild:{orOperator:!1,orGuiLevel:1,leftChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:8,operator:"TRUE",include:!0,value:null}},rightChild:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:7,operator:"CONTAINS",include:!0,value:"false"}}}}},{id:333116,name:"Protect - Hub",tree:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"EXACT",include:!0,value:"assurer::accueil"}}},{id:334187,name:"protect FP MRhe",tree:{targetingCondition:{type:"CUSTOM_DATUM",disabled:!1,weight:1,index:1,operator:"CONTAINS",include:!0,value:"assurer::assurance-habitation::assurance-habitation-etudiant"}}}],variations:[{name:"Variation 1",id:818217,css:'@import url(\'https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Source+Sans Pro:wght@400&display=swap\');.widget_5206_818217 article,.widget_5206_818217 aside,.widget_5206_818217 details,.widget_5206_818217 figcaption,.widget_5206_818217 figure,.widget_5206_818217 footer,.widget_5206_818217 header,.widget_5206_818217 hgroup,.widget_5206_818217 nav,.widget_5206_818217 section,.widget_5206_818217 summary{display:block}.widget_5206_818217 audio,.widget_5206_818217 canvas,.widget_5206_818217 video{display:inline-block}.widget_5206_818217 audio:not([controls]){display:none;height:0}.widget_5206_818217 [hidden]{display:none}.widget_5206_818217 html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.widget_5206_818217 button,.widget_5206_818217 html,.widget_5206_818217 input,.widget_5206_818217 select,.widget_5206_818217 textarea{font-family:sans-serif}.widget_5206_818217 body{margin:0}.widget_5206_818217 a:focus{outline:thin dotted}.widget_5206_818217 a:active,.widget_5206_818217 a:hover{outline:0}.widget_5206_818217 h1{font-size:2em;margin:.67em 0}.widget_5206_818217 h2{font-size:1.5em;margin:.83em 0}.widget_5206_818217 h3{font-size:1.17em;margin:1em 0}.widget_5206_818217 h4{font-size:1em;margin:1.33em 0}.widget_5206_818217 h5{font-size:.83em;margin:1.67em 0}.widget_5206_818217 h6{font-size:.75em;margin:2.33em 0}.widget_5206_818217 abbr[title]{border-bottom:1px dotted}.widget_5206_818217 b,.widget_5206_818217 strong{font-weight:700}.widget_5206_818217 blockquote{margin:1em 40px}.widget_5206_818217 dfn{font-style:italic}.widget_5206_818217 mark{background:#ff0;color:#000}.widget_5206_818217 p,.widget_5206_818217 pre{margin:1em 0}.widget_5206_818217 code,.widget_5206_818217 kbd,.widget_5206_818217 pre,.widget_5206_818217 samp{font-family:monospace,serif;font-size:1em}.widget_5206_818217 pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.widget_5206_818217 q{quotes:none}.widget_5206_818217 q:after,.widget_5206_818217 q:before{content:\'\';content:none}.widget_5206_818217 small{font-size:75%}.widget_5206_818217 sub,.widget_5206_818217 sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.widget_5206_818217 sup{top:-.5em}.widget_5206_818217 sub{bottom:-.25em}.widget_5206_818217 dl,.widget_5206_818217 menu,.widget_5206_818217 ol,.widget_5206_818217 ul{margin:1em 0}.widget_5206_818217 dd{margin:0 0 0 40px}.widget_5206_818217 menu,.widget_5206_818217 ol,.widget_5206_818217 ul{padding:0 0 0 40px}.widget_5206_818217 nav ol,.widget_5206_818217 nav ul{list-style:none;list-style-image:none}.widget_5206_818217 img{border:0;-ms-interpolation-mode:bicubic}.widget_5206_818217 svg:not(:root){overflow:hidden}.widget_5206_818217 figure{margin:0}.widget_5206_818217 form{margin:0}.widget_5206_818217 fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.widget_5206_818217 legend{border:0;padding:0;white-space:normal}.widget_5206_818217 button,.widget_5206_818217 input,.widget_5206_818217 select,.widget_5206_818217 textarea{font-size:100%;margin:0;vertical-align:baseline}.widget_5206_818217 button,.widget_5206_818217 input{line-height:normal}.widget_5206_818217 button,.widget_5206_818217 html input[type=button],.widget_5206_818217 input[type=reset],.widget_5206_818217 input[type=submit]{-webkit-appearance:button;cursor:pointer}.widget_5206_818217 button[disabled],.widget_5206_818217 input[disabled]{cursor:default}.widget_5206_818217 input[type=checkbox],.widget_5206_818217 input[type=radio]{box-sizing:border-box;padding:0}.widget_5206_818217 input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.widget_5206_818217 input[type=search]::-webkit-search-cancel-button,.widget_5206_818217 input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.widget_5206_818217 button::-moz-focus-inner,.widget_5206_818217 input::-moz-focus-inner{border:0;padding:0}.widget_5206_818217 textarea{overflow:auto;vertical-align:top}.widget_5206_818217 table{border-collapse:collapse;border-spacing:0}.widget_5206_818217 a,.widget_5206_818217 p{margin:0}.widget_5206_818217 p{-webkit-hyphens:none!important;-ms-hyphens:none!important;hyphens:none!important;overflow-wrap:normal!important;word-wrap:normal!important;word-break:normal!important}.widget_5206_818217 button{cursor:pointer}.widget_5206_818217 input,.widget_5206_818217 textarea{outline:0}.widget_5206_818217 *,.widget_5206_818217 :after,.widget_5206_818217 :before{box-sizing:border-box}.widget_5206_818217 h1,.widget_5206_818217 h2,.widget_5206_818217 h3{font-weight:700}.widget_5206_818217 u{text-decoration:underline}.widget_5206_818217 em{font-style:italic}.widget_5206_818217 textarea{resize:none}.widget_5206_818217 .kn-hide_desktop,.widget_5206_818217 .kn-hide_mobile,.widget_5206_818217 .kn-hide_tablet{display:inherit}.widget_5206_818217 .hide{display:none!important}.widget_5206_818217 .unvisible{visibility:hidden}.widget_5206_818217.kameleoonWidget_preview .unvisible{visibility:visible}.widget_5206_818217 .kn-content_desktop,.widget_5206_818217 .kn-content_mobile,.widget_5206_818217 .kn-content_tablet{display:none}.widget_5206_818217 .template_t3bqfhia9{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_5206_818217 .popup_wrapper_20y4kz8xk{inset:0px;z-index:9999}.widget_5206_818217 .popup_20y4kz8xk{top:auto;right:auto;bottom:auto;left:auto;transform:none;position:absolute;top:50%;left:50%;z-index:9999;background-color:#fff;width:1000px;height:auto;transform:translateX(-50%) translateY(-50%);max-width:100%;padding-top:30px;padding-bottom:30px;border-radius:4px;border-bottom-style:solid;border-top-style:solid;border-left-style:solid;border-right-style:solid;border-color:#fff}.widget_5206_818217 .popup_20y4kz8xk_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_5206_818217 .overlay_ky527qatf{background-color:rgba(0,0,0,.6);position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.widget_5206_818217 .container_k8dh502fi{text-align:center}.widget_5206_818217 .image_lss9sli8o{max-width:100%;height:auto}.widget_5206_818217 .container_l6hv20q9c{padding-top:10px;padding-bottom:10px}.widget_5206_818217 .text_s3iaqqf2t{font-size:24px;text-align:center;font-family:Montserrat;margin-right:100px;margin-left:100px;margin-top:0;margin-bottom:0;font-weight:700;line-height:32px}.widget_5206_818217 .container_7hurmgpos{padding-top:10px;padding-bottom:10px}.widget_5206_818217 .text_i3m5lui12{font-size:16px;text-align:center;font-family:"Source Sans Pro";margin-left:50px;margin-right:50px;margin-top:0;font-weight:400;line-height:24px}.widget_5206_818217 .column_9z7x8odbu{display:flex;align-items:center;flex-direction:column;justify-content:flex-start;flex-basis:auto;flex-shrink:1;flex-grow:1}.widget_5206_818217 .column_kxtibh74f{display:flex;align-items:center;flex-direction:column;justify-content:flex-start;flex-basis:auto;flex-shrink:1;flex-grow:1}.widget_5206_818217 .group_vj1cuxg9o{display:flex;justify-content:flex-start;align-items:stretch;flex-direction:row}.widget_5206_818217 .container_cyru74rld{padding-top:10px;padding-bottom:10px}.widget_5206_818217 .link_8qrr3hwb9{font-size:16px;font-family:"Source Sans Pro";text-align:center;display:block;font-weight:400;line-height:24px}.widget_5206_818217 .container_cxjkryg1q{text-align:center}.widget_5206_818217 .button_syc0ggj72{font-size:16px;text-align:center;font-family:"Source Sans Pro";background-color:#e2010b;border-radius:23px;border-bottom-style:solid;border-top-style:solid;border-left-style:solid;border-right-style:solid;padding-top:10px;padding-bottom:10px;padding-right:52px;padding-left:52px;border-color:#e2010b;font-weight:400;margin-top:10px;margin-bottom:5px;line-height:24px}.widget_5206_818217 .container_fg7xl02kt{position:absolute;top:0;right:0;z-index:999;margin-right:10px;margin-top:10px}.widget_5206_818217 .close_ock7hc00n{width:30px;height:30px;cursor:pointer;fill:#e2010b}.widget_5206_818217.desktop .kn-content_desktop{display:inherit}.widget_5206_818217.desktop .kn-hide_desktop{display:none!important}.widget_5206_818217.phone .template_t3bqfhia9{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_5206_818217.phone .popup_wrapper_20y4kz8xk{inset:0px;z-index:9999}.widget_5206_818217.phone .popup_20y4kz8xk{width:350px;border-radius:4px;border-width:0;border-bottom-style:solid;border-top-style:solid;border-left-style:solid;border-right-style:solid;border-color:#fffefe;height:auto;margin-right:0;margin-left:0;padding-bottom:30px;padding-right:0;margin-bottom:0;margin-top:0;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.widget_5206_818217.phone .popup_20y4kz8xk_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_5206_818217.phone .text_s3iaqqf2t{font-family:Montserrat;margin-bottom:0;font-weight:700;font-size:16px;margin-right:20px;margin-left:20px;margin-top:5px;line-height:20px}.widget_5206_818217.phone .text_i3m5lui12{font-size:14px;font-family:"Source Sans Pro";font-weight:400;margin-bottom:0;margin-top:0;line-height:20px}.widget_5206_818217.phone .column_9z7x8odbu{flex-basis:auto;flex-grow:1;flex-shrink:1}.widget_5206_818217.phone .column_kxtibh74f{flex-basis:auto;flex-grow:1;flex-shrink:1}.widget_5206_818217.phone .link_8qrr3hwb9{font-family:"Source Sans Pro";text-decoration:none;font-weight:400;font-size:14px;margin-top:0}.widget_5206_818217.phone .container_cxjkryg1q{padding-top:15px;padding-bottom:15px}.widget_5206_818217.phone .button_syc0ggj72{border-radius:24px;border-bottom-style:solid;border-top-style:solid;border-left-style:solid;border-right-style:solid;border-width:0;border-color:#e2010b;font-size:14px;background-color:#e2010b;font-family:"Source Sans Pro";text-transform:none;padding-top:10px;padding-bottom:10px;padding-right:52px;padding-left:52px;font-weight:400;margin-top:0;margin-bottom:0}.widget_5206_818217.phone .close_ock7hc00n{fill:#e2010b}.widget_5206_818217.phone .kn-content_mobile{display:inherit}.widget_5206_818217.phone .kn-content_desktop{display:none}.widget_5206_818217.phone .kn-hide_mobile{display:none!important}.widget_5206_818217.tablet .template_t3bqfhia9{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.widget_5206_818217.tablet .popup_wrapper_20y4kz8xk{inset:0px;z-index:9999}.widget_5206_818217.tablet .popup_20y4kz8xk_inpage{position:relative!important;transform:none;top:auto;left:auto;bottom:auto;right:auto}.widget_5206_818217.tablet .column_9z7x8odbu{flex-basis:auto;flex-grow:1;flex-shrink:1}.widget_5206_818217.tablet .column_kxtibh74f{flex-basis:auto;flex-grow:1;flex-shrink:1}.widget_5206_818217.tablet .kn-content_tablet{display:inherit}.widget_5206_818217.tablet .kn-content_desktop{display:none}.widget_5206_818217.tablet .kn-hide_tablet{display:none!important}',elementSets:[],javaScriptCode:{code:'!function(){if(document.getElementById("kameleoonWidget_818217"))return null;Kameleoon.API.Core.runWhenElementPresent("body",(([e])=>{e.insertAdjacentHTML("beforeend",\'<div class="widget_5206_818217 kameleoonWidget-5206 KameleoonJavaScriptAdded" id="kameleoonWidget_818217"><div class="template_t3bqfhia9 hide"><div class="overlay_ky527qatf"></div><div class="popup_wrapper_20y4kz8xk" data-popup-wrapper-id="20y4kz8xk"><div class="popup_20y4kz8xk"><div class="container_k8dh502fi container_element_lss9sli8o"><img data-iid="lss9sli8o" class="image_lss9sli8o" src="https://vqv6owiip0.kameleoon.eu/images/159505-9924520f-475c-45f6-9784-3d368b8f0523.png" alt="TopIcone"></div><div class="container_l6hv20q9c container_element_s3iaqqf2t"><div class="text_s3iaqqf2t" data-iid="s3iaqqf2t" data-type="Text">Dj client ?<br>Connectez-vous  votre espace pour profiter de vos avantages</div></div><div class="container_7hurmgpos container_element_i3m5lui12"><div class="text_i3m5lui12" data-iid="i3m5lui12" data-type="Text"><span style="color: rgb(36, 36, 36);">Bnficiez de taux personnaliss et d\\\'une souscription en ligne simplifie</span></div></div><div class="group_vj1cuxg9o"><div class="column_9z7x8odbu"><div class="container_cxjkryg1q container_element_syc0ggj72"><button data-iid="syc0ggj72" data-type="Button" class="button_syc0ggj72"><span style="color: rgb(255, 255, 255);">Me connecter</span></button></div></div></div><div class="container_cyru74rld container_element_8qrr3hwb9"><a class="link_8qrr3hwb9" href="#" target="_blank" data-type="Link" data-iid="8qrr3hwb9"><u style="color: rgb(84, 84, 84);">Rester sur l\\\'espace dconnect</u></a></div><div class="container_fg7xl02kt container_element_ock7hc00n"><svg data-iid="ock7hc00n" class="close_ock7hc00n" viewBox="0 0 24 24" aria-hidden><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg></div></div></div></div></div>\')})),Kameleoon.API.Core.runWhenElementPresent(".widget_5206_818217",(e=>{const t=e[0];t.classList.add(Kameleoon.API.CurrentVisit.device.type.toLowerCase()),t.querySelectorAll(".widget_5206_818217 span[data-cd-name]").forEach((e=>{const t=e.getAttribute("data-cd-name"),a=e.getAttribute("data-cd-scope");"VISIT"===a&&(e.innerHTML=Kameleoon.API.CurrentVisit.customData[t]||e.innerHTML),"VISITOR"===a&&(e.innerHTML=Kameleoon.API.Visitor.customData[t]||e.innerHTML)})),t.querySelectorAll(".widget_5206_818217 a[data-cd-href]").forEach((e=>{const t=e.getAttribute("data-cd-href"),a=JSON.parse(t.replace(/&quot;/g,\'"\'));let i=decodeURI(e.href);const r=i.match(/\\{\\{ [A-Za-z0-9 .,?!@"\'\\\\()#$%^&*-=+|_]+ \\}\\}/gim);r&&(r.forEach((e=>{const t=e.slice(2,-2).trim(),r=a.find((e=>e.name===t));r&&("VISIT"===r.scope&&(i=i.replace(e,Kameleoon.API.CurrentVisit.customData[t]||r.defaultValue||"")),"VISITOR"===r.scope&&(i=i.replace(e,Kameleoon.API.Visitor.customData[t]||r.defaultValue||"")))})),e.href=encodeURI(i))})),t.querySelectorAll(".widget_5206_818217 input").forEach((e=>{e.addEventListener("keydown",(e=>{13===e.keyCode&&e.preventDefault()}))})),t.querySelector(".widget_5206_818217 .template_t3bqfhia9").classList.remove("hide"),Kameleoon.API.Utils.addUniversalClickListener(t.querySelector(".widget_5206_818217 .close_ock7hc00n"),(e=>{e.stopPropagation(),e.preventDefault(),t.querySelectorAll(".widget_5206_818217 .popup_wrapper_20y4kz8xk video").forEach((e=>{e.pause(),e.currentTime=0})),t.querySelectorAll(".widget_5206_818217 .popup_wrapper_20y4kz8xk iframe").forEach((e=>{e.src=e.src.replace("autoplay=1","autoplay=0")})),t.querySelector(".widget_5206_818217 .template_t3bqfhia9").classList.add("hide");try{bddfTms.trackEvent(this,"click",{event_name:"popin-connexion::clic-sur-fermer"})}catch(e){console.error(\'custom JS code "Tracking fermer" is invalid\\n\',e)}})),Kameleoon.API.Utils.addUniversalClickListener(t.querySelector(".widget_5206_818217 .button_syc0ggj72"),(e=>{e.stopPropagation(),e.preventDefault(),window.open("https://particuliers.societegenerale.fr/com/icd-web/ccw/ccw-credit-consommation-authsec.html#ccw/projet");try{bddfTms.trackEvent(this,"click",{event_name:"popin-connexion::clic-sur-me-connecter"})}catch(e){console.error(\'custom JS code "Tracking me connecter" is invalid\\n\',e)}})),Kameleoon.API.Utils.addUniversalClickListener(t.querySelector(".widget_5206_818217 .link_8qrr3hwb9"),(e=>{e.stopPropagation(),e.preventDefault(),t.querySelectorAll(".widget_5206_818217 .popup_wrapper_20y4kz8xk video").forEach((e=>{e.pause(),e.currentTime=0})),t.querySelectorAll(".widget_5206_818217 .popup_wrapper_20y4kz8xk iframe").forEach((e=>{e.src=e.src.replace("autoplay=1","autoplay=0")})),t.querySelector(".widget_5206_818217 .template_t3bqfhia9").classList.add("hide");try{bddfTms.trackEvent(this,"click",{event_name:"popin-connexion::clic-sur-rester-sur-espace-deconnecte"})}catch(e){console.error(\'custom JS code "Tracking Continuer site" is invalid\\n\',e)}}))}))}();',afterDOMReady:!0},widgetTemplateInputData:{domElementSelector:null,positionSelectorRelative:"BEFORE",displayPluginConfiguration:"DISPLAY_ALL_DEVICES",positionPluginConfiguration:"ABOVE",positionDefinition:null,mainPageUrl:null},widgetTemplateName:null},{name:"Variation 1",id:882781,css:"",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent("#banner-webcallback",(e=>{e.forEach((e=>{e.style.display="block"}))})),Kameleoon.API.Core.runWhenElementPresent("#sticky-webcallback",(e=>{e.forEach((e=>{e.style.display="block"})),document.body.style.paddingBottom="80px",document.body.style.height="auto"}));',afterDOMReady:!1}},{name:"Variation 1",id:994317,css:"#mfAntwa .stl_alert{border:1px solid #0072b9;background-color:#e1f4fe;border-radius:1rem;color:#545454;margin:0 auto 0;min-height:3.5rem;padding:1rem 1.5rem 1rem 4rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative}#mfAntwa .stl_alert>.stl_icon{height:1.5rem!important;width:1.5rem!important;top:2rem;left:1.5rem;position:absolute}#mfAntwa .stl_icon{display:inline-block;vertical-align:bottom;line-height:1;color:#0072b9}#mfAntwa .stl_icon .status--info .status__path--stroke{stroke:#0072b9}#mfAntwa .stl_icon .status__path--circle{stroke-width:1.5}",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent("section span strong",(e=>{let s=document.createElement("div");s.innerHTML=\'<div id="mfAntwa" class="SGBoxStyled-sc-1r671le-0 diGinx stl_box stl_box--margin--top--sm"><div data-show="true" class="stl_alert stl_alert-info SGAlertStyled-sc-6m2i6y-0 hjmyuE stl_alert--has-message stl_alert--column" role="status"><span class="SGIconStyled-sc-19bihye-0 fpPLCL stl_icon stl_icon--xl stl_icon--right"><svg aria-hidden="true" focusable="false" class="status status--info" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="none"><path d="M16 .75a15.2 15.2 0 0110.783 4.467A15.2 15.2 0 0131.25 16a15.2 15.2 0 01-4.467 10.783A15.2 15.2 0 0116 31.25a15.201 15.201 0 01-10.783-4.467A15.201 15.201 0 01.75 16c0-4.211 1.707-8.023 4.467-10.783A15.201 15.201 0 0116 .75z" stroke="#000" stroke-width="2" class="status__path--stroke status__path--circle"></path><path d="M16 22.778v-9.489m0-2.711V7.867" stroke="#000" stroke-width="2" class="status__path--stroke"></path></svg></span><div class="stl_alert-content"><div class="stl_alert-message"><p>Vous devez saisir <strong>le troisi&egrave;me bloc de 4 chiffres</strong> de votre num&eacute;ro de carte tel que pr&eacute;sent&eacute; sur le visuel ci-dessous.</p></div><div class="stl_alert-description"></div></div><div class="stl_alert-action"><div class="SGBoxStyled-sc-1r671le-0 kqfnLY stl_box stl_box--margin--top--xs"></div></div></div></div>\',e[0].parentNode.after(s),e[0].parentNode.remove()})),Kameleoon.API.Core.runWhenElementPresent(".ant-image-img.sc-glJfXD.cHKhxY.stl_image",(e=>{e[0].src="https://particuliers.sg.fr/static/Particuliers/assets/img/ab-test/visuel-cb-factice.png"})),Kameleoon.API.Core.runWhenElementPresent("section label",(e=>{e[0].innerHTML="Saisissez les <strong>4 chiffres de votre carte</strong> comme indiqu&eacute; dans l&rsquo;image ci-dessus :"}));',afterDOMReady:!1}},{name:"Variation 1",id:1031559,css:".samy-btn-souscription.stl_box{margin:1rem 0 1.5rem!important}",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent(".SGSpaceItemStyled-sc-1ueeir8-0",(function(){let e=document.querySelector(".SGBoxStyled-sc-1r671le-0.ihLRhW"),t=document.querySelectorAll(".SGBoxStyled-sc-1r671le-0.hvgLhX.stl_box.stl_box--margin--top--md")[0];"ineligible"!=tc_vars.form_field_2&&(e.classList.add("samy-btn-souscription"),t.parentNode.insertBefore(e,t.nextSibling))}));',afterDOMReady:!1}},{name:"Variation 1",id:1071533,css:".eauHJa.stl_carousel__wrapper{margin-top:20px}h3{text-align:left!important}.slick-slider h3{text-align:center!important}#mfKameleoon283125{display:flex;gap:5px;justify-content:space-between;background:#fff;padding:12px}#mfKameleoon283125 .mfBlock{border:1px solid #999;border-radius:3px;padding:8px;width:100%;text-align:center;font-size:12px;line-height:16px;display:grid;cursor:pointer;box-shadow:0 2px 4px 0 rgb(0,0,0,.12)}#mfKameleoon283125 .mfBlock.active{border:2px solid #29873d}#mfKameleoon283125 .mfBlock span{font-family:sourcesanspro,Arial,Helvetica,sans-serif;color:#000}#mfKameleoon283125 .mfTitle{font-weight:600}#mfKameleoon283125 .mfPrice{font-weight:700;font-family:Montserrat!important}.oSecPadding{padding:0!important}.nSecPadding{padding:1rem 0!important}",elementSets:[],javaScriptCode:{code:'window.kam283125_init=()=>{Kameleoon.API.Core.runWhenElementPresent(".slick-track",(e=>{window.kam283125_initiated=window.kam283125_initiated||!1,window.kam283125_initiated?window.kam283125_nSec=document.getElementById("kam283125_sectionTitle"):(window.kam283125_initiated=!0,Kameleoon.API.Core.runWhenElementPresent("h3",(e=>{e[0].innerText="Slectionnez votre formule";const t=e[0].closest("section");t.classList.add("oSecPadding"),window.kam283125_nSec=document.createElement("section"),window.kam283125_nSec.id="kam283125_sectionTitle",window.kam283125_nSec.classList=t.classList,window.kam283125_nSec.classList.add("nSecPadding"),t.parentNode.insertBefore(window.kam283125_nSec,t),window.kam283125_nSec.appendChild(e[0]),Kameleoon.API.Core.runWhenElementPresent("#PRI_Appli_EspaceThem_Assu_MRA_promos_nationales, #PRI_Appli_EspaceThem_Assu_MRH_promos_nationales",(e=>{window.kam283125_nSec.parentNode.insertBefore(e[0],window.kam283125_nSec)}))}))),Kameleoon.API.Core.runWhenElementPresent(".slick-slide .stl_card-meta-detail, .slick-slide .stl_tile:nth-child(1) .criRiX .stl_space-item:nth-child(2)",(e=>{let t=document.getElementById("mfKameleoon283125");t&&t.remove(),t=document.createElement("div"),t.id="mfKameleoon283125",e.forEach(((e,n)=>{const i=e.querySelector("h3")||e.querySelector("h2");i.innerText=i.innerText.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" ");const a=i.innerText.replace(/^formule /i,"").replace(/ /g,"&nbsp;"),o=e.querySelector(".stl_price-commercial").innerText.split("\\n")[0].replace(/^([^]+).+$/,"$1").trim(),c=document.createElement("div");c.classList.add("mfBlock"),c.setAttribute("data-index",n),e.closest(".slick-slide.slick-active")&&(c.classList.add("active"),window.kam283125_currentIndex=n),c.innerHTML=`<span class="mfTitle">${a}</span><span class="mfPrice">${o}</span><span>/ mois</span>`,c.addEventListener("click",(e=>{const t=parseInt(e.target.closest(".mfBlock").getAttribute("data-index"));document.querySelectorAll(".slick-dots ul li")[t].querySelector("button").click(),window.kam283125_currentIndex=t,bddfTms.trackEvent(this,"click",{page_name:"toto",event_name:"clic-carre-formule-"+a.toLowerCase().replace(/( |&nbsp;)/g,"-").replace("+","plus")})})),t.appendChild(c)})),window.kam283125_nSec.after(t),window.kam283125_mutationObserver=window.kam283125_mutationObserver||!1,window.kam283125_mutationObserver||(window.kam283125_mutationObserver=!0,new MutationObserver((e=>{document.querySelector("#mfKameleoon283125 .mfBlock.active").classList.remove("active"),document.querySelectorAll("#mfKameleoon283125 .mfBlock")[parseInt(document.querySelector(".slick-slide.slick-active").getAttribute("data-index"))].classList.add("active"),kam283125_init()})).observe(document.querySelector(".slick-track"),{attributes:!0,subtree:!0}))}))}))},window.kam283125_init();',afterDOMReady:!1}},{name:"Variation 1",id:1074027,css:"#kameleoonElement-popin_291815.close{animation-name:popin-close;animation-delay:0s;animation-duration:1s;animation-fill-mode:forwards;animation-direction:normal}#kameleoonElement-overlay_291815.close{animation-name:overlay-close;animation-delay:0s;animation-duration:1s;animation-fill-mode:forwards;animation-direction:normal}@keyframes overlay-close{0%{opacity:44%}100%{opacity:0%}}@keyframes popin-close{0%{opacity:1}100%{opacity:0}}#kameleoonElement-overlay_291815{background-color:#010035;opacity:44%;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:499}#kameleoonElement-popin_291815{width:400px;height:auto;background-color:#fff;border-radius:4px;z-index:500;position:fixed;right:15px;top:110px;padding:20px;margin-top:15px;border-left:4px solid #0072b9;box-shadow:rgba(0,0,0,.12) 0 2px 4px 0;font-family:sourcesanspro,Arial,Helvetica,sans-serif}#kameleoonElement-popin_291815 .popin-cross{cursor:pointer;width:16px;height:16px;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;right:10px}#kameleoonElement-popin_291815 .popin-cross hr{width:14px;height:2px;position:absolute;background:#000;border:none}#kameleoonElement-popin_291815 .popin-cross hr:first-of-type{transform:rotate(-45deg)}#kameleoonElement-popin_291815 .popin-cross hr:last-of-type{transform:rotate(45deg)}#kameleoonElement-popin_291815 .popin-content{display:flex;margin-top:8px}#kameleoonElement-popin_291815 .popin-content div{padding-left:16px}#kameleoonElement-popin_291815 .popin-content .stl_tag{background:#0072b9!important;margin-bottom:.25rem;padding:.25rem .5rem;vertical-align:top;text-transform:uppercase;font-weight:600;font-size:.75rem;line-height:1rem;color:#fff;display:inline-block;margin:0 1rem 1rem 0;overflow:hidden;position:relative;border-radius:.25rem}#kameleoonElement-popin_291815 .popin-content p{margin:0;font-family:'source sans pro';font-weight:400;font-size:14px;line-height:28px;min-width:260px;color:#010035;padding-left:0;padding-top:5px}#kameleoonElement-popin_291815 .popin-content img{width:24px;height:24px}#kameleoonElement-popin_291815 .stl_link{margin-top:15px;margin-left:38px;font-weight:400;text-decoration:none;align-items:center;justify-content:center;transition:color .3s;display:inline-flex;font-size:1rem;line-height:1.5rem}#kameleoonElement-popin_291815 .stl_link--tertiary a{color:#e2010b!important;text-decoration:none!important;font-weight:600}#mfKameleoonForget{color:#545454;text-decoration:underline!important}#kameleoonElement-popin_291815 .icon-red{filter:brightness(0) saturate(100%) invert(13%) sepia(100%) saturate(7018%) hue-rotate(355deg) brightness(87%) contrast(104%);margin:0 auto}#kameleoonElement-popin_291815 .stl_link>[class*=icon]:last-child,.stl_link>svg:last-child{margin:0 0 0 .125rem}#kameleoonElement-popin_291815 .stl_link--tertiary .stl_icon{width:1.5rem;height:1.5rem}@media (max-width:768px){#kameleoonElement-popin_291815{width:auto;left:15px;right:15px!important;top:50px}#kameleoonElement-popin_291815 .popin-content p{font-size:14px;line-height:18px;min-width:180px}}",elementSets:[],javaScriptCode:{code:'!function(){const e={5838:{text:"Livret A Mineur",url:"https://particuliers.sg.fr/secure/epargner/livret-a-enfant/reprendre-souscription",webview:"sgaction://eyJERUJfaWR2aWV3IjoiOTk5IiwiREVCX3dpdGhOYXZpZ2F0aW9uQ29udHJvbHMiOnRydWUsIkRFQl90eXBlUmVxdWVzdCI6IkdFVCIsIkRFQl9iYWNrIjoiYWNjdWVpbCIsInh0b3IiOnt9LCJERUJfdXJsIjoiL2VwYXJnbmVyLXBsYWNlci1zb24tYXJnZW50L25vcy1vZmZyZXMvbGl2cmV0cy1lcGFyZ25lL2xpdnJldHMtamV1bmVzLW1pbmV1cnMvbGl2cmV0LWEtZW5mYW50LW1pbmV1ci9yZXByZW5kcmUtc291c2NyaXB0aW9uIn0=",product:"livret-a-mineur"}};let t,n,a,s=[];try{s=Object.keys(JSON.parse(localStorage.getItem("tealium_va_socgen_fr-"+("production"==tc_vars.env_work?"prod":"qa")+"-sg")).badges),Object.keys(e).forEach((c=>{-1!==s.indexOf(c)&&(t=e[c].text,n="webview"==tc_vars.env_channel?e[c].webview:e[c].url,a=e[c].product)}))}catch(e){}if(t&&n&&a)try{let e=JSON.parse(localStorage.getItem("mf_kam_291815")||"{}");if(!e.last||Date.now()-e.last>72e5){e.last=Date.now(),localStorage.setItem("mf_kam_291815",JSON.stringify(e));const s="kameleoonElement-popin_291815",c=t.replace(/^l(e|a|\') ?/,""),i=document.querySelector("header"),r=document.createElement("div");r.id=s,r.style.right=(i?document.body.clientWidth-i.offsetLeft-i.clientWidth:5)+"px",r.innerHTML=`\\n\\t<div class="popin-cross" onclick="morganClosePopin(); morganKTrackClick(\'${a}\', \'croix-fermeture\');">\\n\\t\\t<hr>\\n\\t\\t<hr>\\n\\t</div>\\n\\n\\t<div class="popin-content">\\n\\t\\t<img src="/static/Resources/icons/SGAvenirStrokedCarteNeutre24.svg">\\n\\t\\t\\n\\t\\t<div>\\n\\t\\t\\t<span class="stl_tag">${c}</span>\\n\\t\\t\\t\\n\\t\\t\\t<p>Vous avez commenc&eacute; une demande de souscription &agrave; un ${t}, &ecirc;tes-vous toujours int&eacute;ress&eacute;(e) ?</p>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<span class="stl_link stl_link--tertiary stl_link--md">\\n\\t\\t<a href="${n}" class="stl_link--label" onclick="morganKTrackClick(\'${a}\', \'poursuivre-ma-demande\');">Poursuivre ma demande</a>\\n\\t\\t<span class="stl_icon">\\n\\t\\t\\t<img data-src="/static/Resources/icons/SGAvenirNavFlecheBtnLien24.svg" height="24" width="24" alt="" class="icon-red lazyloaded" src="/static/Resources/icons/SGAvenirNavFlecheBtnLien24.svg">\\n\\t\\t</span>\\n\\t</span>\\n\\t\\n\\t<a href="#" class="stl_link" id="mfKameleoonForget" onclick="morganClosePopin(true); morganKTrackClick(\'${a}\', \'ne-plus-me-le-rappeler\');">Ne plus me le rappeler</a>\\n\\t\\t\\t\\t`,document.body.appendChild(r),window.morganKTrackClick=(e,t)=>{bddfTms.trackEvent(this,"click",{event_name:[tc_vars.page_name,"bandeau-abandonniste-"+e,"clic-sur-"+t].join("::")})},window.morganClosePopin=t=>{document.getElementById(s).remove(),t&&(e.last=1e21,localStorage.setItem("mf_kam_291815",JSON.stringify(e)))}}}catch(e){console.log(e)}}();',afterDOMReady:!1}},{name:"Variation 1",id:1090432,css:"",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent("h1",(s=>{s[0].innerHTML+="<sup>(1)</sup>";let e=document.querySelector("h3");e&&e.closest("section").remove(),e=document.createElement("section"),e.classList.add("stl_section"),s[0].closest("section").after(e),e.innerHTML=\'\\n<div class="stl_layout">\\n    <div class="stl_grid_row stl_grid_row-space-between">\\n        <div class="stl_grid_col stl_grid_col-xs-12 stl_grid_col-md-5">\\n            <div class="stl_structure-visual">\\n                <div class="is-sticky">\\n                    <picture>\\n                        <source data-srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_1_Hub_openBanking_Swile_x2.webp" media="(max-width: 1024px)" type="image/webp" srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_1_Hub_openBanking_Swile_x2.webp">\\n                        <source data-srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.webp" media="(min-width: 1025px)" type="image/webp" srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.webp">\\n                        <source data-srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.jpg" media="(min-width: 1025px)" type="image/jpeg" srcset="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.jpg">\\n                        <img data-src="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.jpg" alt="Pourquoi souscrire une assurance protection juridique" class=" lazyloaded" src="/static/Particuliers/Home/Assurances/nos-offres/assurances-risques-quotidien/imgs/Visuel_2_Hub_openBanking_Swile_x1.jpg">\\n                    </picture>\\n                </div>\\n            </div>\\n        </div>\\n        <div class="stl_grid_col stl_grid_col-xs-12 stl_grid_col-md-6">\\n            <div class="stl_structure" data-parent="">\\n                <div class="stl_structure-item">\\n                    <h2 class="stl_title stl_title--2" data-sujet="">\\n                        Dans quelles situations pourriez-vous avoir besoin d\\\'une Assurance Accidents de la Vie ?\\n                    </h2>\\n                </div>\\n\\n                <div class="stl_structure-item" data-parent="">\\n                    <div class="stl_card--af-produit-v2">\\n                        <div class="stl_card-body">\\n                            <img data-src="/static/Resources/icons/SGAvenirStyledDependance48.svg" height="48" width="48" alt="" class=" lazyloaded" src="/static/Resources/icons/SGAvenirStyledDependance48.svg">\\n                            <div class="stl_card-desc">\\n                                <h3 class="stl_title stl_title--4" data-sujet="">\\n                                    Immobilis ou hospitalis suite  une chute dans vos escaliers ?\\n                                </h3>\\n                                <p>\\n                                    Une aide  domicile prend soin de vos enfants et de vos animaux de compagnie<sup>(12)</sup> !\\n                                </p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class="stl_card--af-produit-v2">\\n                        <div class="stl_card-body">\\n                            <img data-src="/static/Resources/icons/SGAvenirStyledAccidents48.svg" height="48" width="48" alt="" class=" ls-is-cached lazyloaded" src="/static/Resources/icons/SGAvenirStyledAccidents48.svg">\\n                            <div class="stl_card-desc">\\n                                <h3 class="stl_title stl_title--4" data-sujet="">\\n                                    Victime d\\\'une brlure svre en faisant votre barbecue ?\\n                                </h3>\\n                                <p>\\n                                    Vous recevez une indemnisation financire<sup>(12)</sup> pour vos souffrances endures et votre invalidit, et des services d\\\'assistances pour vous accompagner dans votre rtablissement !\\n                                </p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class="stl_card--af-produit-v2">\\n                        <div class="stl_card-body">\\n                            <img data-src="/static/Resources/icons/SGAvenirStyledVoyageInternational48.svg" height="48" width="48" alt="" class=" lazyloaded" src="/static/Resources/icons/SGAvenirStyledVoyageInternational48.svg">\\n                            <div class="stl_card-desc">\\n                                <h3 class="stl_title stl_title--4" data-sujet="">\\n                                    En vacances ou en tudes  l\\\'tranger<sup>(13)</sup> ?\\n                                </h3>\\n                                <p>\\n                                    En cas d\\\'accident, vos frais d\\\'hospitalisation et votre rapatriement en France sont pris en charge par votre contrat !\\n                                </p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class="stl_card--af-produit-v2">\\n                        <div class="stl_card-body">\\n                            <img data-src="/static/Resources/icons/SGAvenirStyledStetoscope48.svg" height="48" width="48" alt="" class=" ls-is-cached lazyloaded" src="/static/Resources/icons/SGAvenirStyledStetoscope48.svg">\\n                            <div class="stl_card-desc">\\n                                <h3 class="stl_title stl_title--4" data-sujet="">\\n                                    Comment cela complte-t-il votre assurance sant ?\\n                                </h3>\\n                                <p>\\n                                    En cas d\\\'accident de la vie, votre complmentaire sant couvre vos frais mdicaux, tandis que l\\\'Assurance Accidents de la Vie vous verse une aide financire suite  votre hospitalisation<sup>(12)</sup>, et indemnise vos prjudices conomiques , esthtiques et vos souffrances endures.\\n                                </p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class="stl_structure-item">\\n                    <div class="stl_btn-group stl_btn-group-start" aria-label="Voir tout">\\n                        <a href="/icd/assup/index-new-assup-authsec.html#/souscription/gav-situation" class="stl_btn stl_btn--primary stl_btn--md" data-bouton="" id="triggerSticky">\\n                            <span>Obtenir un tarif</span>\\n                        </a>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\',e=s[0].closest(".stl_layout").innerHTML+="\\n\\n\\n<p class=\\"stl_baseline mw-800\\">\\n    Un banal accident peut entraner des consquences graves : invalidit, perte de revenus.\\n    Avec l\'Assurance Accidents de la Vie, vous bnficiez d\'une <b>indemnisation financire</b><sup>(12)</sup> en cas de blessures et de dcs ainsi que de <b>services d\'assistance</b><sup>(12)</sup> pour faire face  ces situations, <b>compltant ainsi vos autres assurances<b>.\\n</p>\\n",document.querySelectorAll(".stl_section--mentions-legales .stl_layout").forEach((s=>{s.innerHTML+="\\n<p>(12) Dans les limites des conditions prvues aux contrats</p>\\n\\n<p>(13)La couverture est tendue dans le monde pour des accidents survenus lors de voyages et sjours nexcdant pas une dure continue de 3 mois. Cette dure est tendue  1 an pour les tudiants fiscalement  charge qui effectuent un sjour  ltranger dans le cadre de leurs tudes.</p>\\n"}))}));',afterDOMReady:!1}},{name:"Variation 1",id:1093791,css:"",elementSets:[],javaScriptCode:{code:'BddfKameleoon.setHref(\'[href*="/icd/rvd_rva/rdv_client/index-authsec.html"]\',"https://ouvrir-un-compte-en-ligne.sg.fr/RDV/s/");',afterDOMReady:!1}},{name:"Variation 1",id:1099937,css:"@media screen and (min-width:880px){#alternate-cta{display:none!important}}@media screen and (max-width:880px){.samy-btn-souscription{position:sticky!important;bottom:0;right:0;width:100%;background:#fff;padding:20px 0}#alternate-cta{display:none;position:fixed;bottom:0;right:0;z-index:10000;width:100%;justify-content:center;padding:20px 0;background-color:#fff}#alternate-cta button{margin:0!important}}",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent(".SGSpaceItemStyled-sc-1ueeir8-0",(function(){let t=document.getElementById("alternate-cta");if(!t){t=document.createElement("div"),t.id="alternate-cta",t.innerHTML=\'\\n      <div>\\n        <button type="button" class="SGButtonStyled-sc-hifh5r-0 jVFbsu stl_btn stl_btn--primarydefault stl_btn--default stl_btn--width--md stl_btn--height--md" aria-label="Commencer la souscription pour un crdit  la consommation">\\n          <span class="stl_btn__inner">\\n            <span class="stl_btn__label">Commencer la souscription</span>\\n          </span>\\n        </button>\\n      </div>\\n    \',document.querySelector(".SGContentStyled-sc-b656on-0.fxVfVg").appendChild(t)}const e=document.querySelector(".samy-btn-souscription"),n=e.querySelector("button#btn-start"),l=t.querySelector("button");l&&l.addEventListener("click",(()=>{n.click()}));const o=document.querySelector(".SGGridColStyled-sc-6esajy-0.kECHNs.stl_grid_col.stl_grid_col--textalign-left");function s(){if(!o)return!1;const t=o.getBoundingClientRect();return t.top<window.innerHeight&&t.bottom>0}new IntersectionObserver((e=>{e.forEach((e=>{const n=s();e.isIntersecting||n?t.style.display="none":t.style.display="flex"}))}),{root:null,threshold:1}).observe(e),window.addEventListener("scroll",(()=>{s()&&(t.style.display="none")}))}));',afterDOMReady:!1}},{name:"Variation 1",id:1111929,css:"",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent("#contratsavantages",(e=>{e[0].style.display="block"})),Kameleoon.API.Core.runWhenElementPresent("#offres-assurance",(e=>{e[0].style.display="none"}));',afterDOMReady:!1}},{name:"Variation 1",id:1114038,css:"",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent(".stl_section.stl_section--hero",(function(){document.querySelector("#abt-section-4").style.display="none"}));',afterDOMReady:!1}},{name:"Variation 1",id:1114062,css:"@media screen and (min-width :1023px){.samy-abt-pagination{display:none}}@media screen and (max-width :1023px){.samy-abt-pagination{margin:0 0 1em;display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.samy-abt-pagination .swiper-pagination-bullet{background-color:#fff;background:#fff;padding:10px;border:2px solid #999;border-radius:8px;cursor:pointer;height:initial;width:initial;margin:0 0!important}.samy-abt-pagination .swiper-pagination-bullet::before{display:none}.samy-abt-pagination .swiper-pagination-bullet-active{border:2px solid #9f2d62}.samy-abt-pagination p{margin-bottom:0!important}.samy-abt-pagination p:first-child{margin-bottom:12px!important}.samy-abt-pagination p:last-child{font-size:12px!important}.samy-abt-pagination p:last-child span{font-size:16px!important;font-weight:800!important}}.samy-abt-title.stl_title{margin-bottom:.3em}",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent(".stl_section.stl_section--hero",(function(){const e=[{product:"credit-expresso",values:[{label:"Pour un crdit de 6 000  sur 36 mois",price:"178,21",trackName:"un"},{label:"Pour un crdit de 8 500  sur 36 mois",price:"252,47",trackName:"deux"},{label:"Pour un crdit de 10 000  sur 48 mois",price:"231,93",trackName:"trois"}]},{product:"pret-bfm-liberte",values:[{label:"Pour un crdit de 3 000  sur 24 mois",price:"131,27",trackName:"un"},{label:"Pour un crdit de 7 000  sur 36 mois",price:"208,98",trackName:"deux"},{label:"Pour un crdit de 15 000  sur 60 mois",price:"281,29",trackName:"trois"}]}];function t(t){let r=t.querySelectorAll("span.swiper-pagination-bullet");const i=e.filter((e=>e.product===tc_vars.product_name_trade));r.forEach(((e,t)=>{const r=i[0].values[t],n=` <p> ${r.label} </p> <p><span>${r.price}</span> /mois</p>`;e.innerHTML=n}))}!function r(){let i=document.querySelector(".swiper-container-initialized");if(i){let r=document.querySelector("#abt-section-4 .swiper-pagination");i.insertBefore(r,i.firstChild),r.classList.add("samy-abt-pagination"),function(t){const r=e.filter((e=>e.product===tc_vars.product_name_trade));t.forEach(((e,t)=>{const i=r[0].values[t];e.addEventListener("click",(()=>{bddfTms.trackEvent(this,"click",{event_name:`${tc_vars.page_name}::slider-simplifie::clic-sur-projet-${i.trackName}`})}))}))}(r.querySelectorAll("span.swiper-pagination-bullet"));const n=document.querySelector("#swiper-marketing").swiper;n.on("resize",(()=>t(r))),n.on("breakpoint",(()=>t(r))),n.on("breakpoint",(()=>t(r))),n.on("breakpoint",(()=>t(r))),t(r);let o=document.querySelector("#abt-section-4 .stl_layout"),s=document.createElement("h2");s.classList.add("samy-abt-title","stl_title","stl_title--2"),s.textContent="Exemples de projets",o.insertBefore(s,i)}else setTimeout(r,1e3)}()}));',afterDOMReady:!1}},{name:"Variation 1",id:1117267,css:"",elementSets:[],javaScriptCode:{code:'Kameleoon.API.Core.runWhenElementPresent(".stl_section--hero",(function(){const e=document.querySelectorAll("a.stl_btn");Array.from(e).filter((e=>{const t=e.getAttribute("href");return"/simulateurs/calculer-simuler-credit-conso-expresso"===t||"/simulateurs/calculer-simuler-credit-conso-bfm"===t||"https://ouvrir-un-compte-en-ligne.sg.fr/RDV/s/"===t})).forEach((e=>{const t=e.getAttribute("data-secure");t&&e.setAttribute("href",t)}))}));',afterDOMReady:!1}},{name:"Variation 1",id:1123846,css:"",elementSets:[],javaScriptCode:{code:'BddfKameleoon.setText("#triggerSticky","Faire un devis en ligne"),BddfKameleoon.setText(".stl_btn.stl_btn--primary.stl_btn--md","Faire un devis en ligne");',afterDOMReady:!1}},{id:0,name:"Reference",css:"",elementSets:[]},{id:null,name:"Excluded"}],goals:[{id:118038,name:"Engagement",type:"ENGAGEMENT"},{id:300727,name:"Assurance - MRA - Devis - Lead initiated",type:"CUSTOM"},{id:300729,name:"Assurance - MRA - Devis - Lead validated",type:"CUSTOM"},{id:300731,name:"Assurance - MRA - Souscription - Lead initiated",type:"CUSTOM"},{id:300732,name:"Assurance - MRA - Souscription - Lead validated",type:"CUSTOM"},{id:300733,name:"Assurance - MRH - Devis - Lead initiated",type:"CUSTOM"},{id:300734,name:"Assurance - MRH - Devis - Lead validated",type:"CUSTOM"},{id:300735,name:"Assurance - MRH - Souscription - Lead initiated",type:"CUSTOM"},{id:300736,name:"Assurance - MRH - Souscription - Lead validated",type:"CUSTOM"},{id:309703,name:"OI - CTA Valider",type:"CLICK"},{id:311509,name:"Crdit - Conso standard - Souscription - Lead initiated",type:"CUSTOM"},{id:311510,name:"Crdit - Conso standard - Souscription - Lead engaged",type:"CUSTOM"},{id:311512,name:"Crdit -  Conso standard - Souscription - Lead validated",type:"CUSTOM"},{id:311513,name:"Crdit - Conso standard - Simulation - Lead initiated",type:"CUSTOM"},{id:311514,name:"Crdit - Conso standard - Simulation - Lead engaged",type:"CUSTOM"},{id:311515,name:"Crdit - Conso standard - Simulation - Lead validated",type:"CUSTOM"},{id:311517,name:"BAQ - MEG - Souscription - Lead initiated",type:"CUSTOM"},{id:311520,name:"BAQ - MEG - Souscription - Lead engaged",type:"CUSTOM"},{id:311521,name:"BAQ - MEG - Souscription - Lead validated",type:"CUSTOM"},{id:311522,name:"BAQ - Option Collection - Souscription - Lead initiated",type:"CUSTOM"},{id:311523,name:"BAQ - Option Collection - Souscription - Lead engaged",type:"CUSTOM"},{id:311524,name:"BAQ - Option Collection - Souscription - Lead validated",type:"CUSTOM"},{id:311525,name:"BAQ - Option Crypto - Souscription - Lead initiated",type:"CUSTOM"},{id:311526,name:"BAQ - Option Crypto - Souscription - Lead engaged",type:"CUSTOM"},{id:311527,name:"BAQ - Option Crypto - Souscription - Lead validated",type:"CUSTOM"},{id:311528,name:"BAQ - Option Voyageur - Souscription - Lead initiated",type:"CUSTOM"},{id:311529,name:"BAQ - Option Voyageur - Souscription - Lead engaged",type:"CUSTOM"},{id:311530,name:"BAQ - Option Voyageur - Souscription - Lead validated",type:"CUSTOM"},{id:311531,name:"BAQ - Option Internationale - Souscription - Lead initiated",type:"CUSTOM"},{id:311532,name:"BAQ - Option Internationale - Souscription - Lead validated",type:"CUSTOM"},{id:311534,name:"Assurance - AAV - Devis - Lead validated",type:"CUSTOM"},{id:311535,name:"Assurance - AAV - Souscription - Lead initiated",type:"CUSTOM"},{id:311536,name:"Assurance - AAV - Souscription - Lead validated",type:"CUSTOM"},{id:311662,name:"Crdit - Conso prcibl - Souscription - Lead initiated",type:"CUSTOM"},{id:311664,name:"Crdit - Conso prcibl - Souscription - Lead engaged",type:"CUSTOM"},{id:311665,name:"Crdit -  Conso prcibl - Souscription - Lead validated",type:"CUSTOM"},{id:312026,name:"Collection Catalogue - Clic sur visuel",type:"CLICK"}],scriptProduceTime:1750340846054,timeZone:"Europe/Paris",webExperimentationSetup:!0,boLocale:"FRENCH",DATA_URL:"https://eu-data.kameleoon.eu",useWideDomainSupport:!0,useOpportunitySegments:!0,geolocation:!0,graphicalEditorVersion:"v1",globalScript:'window.kameleoonAtMvtFunction=function(e){if(window.ATTag){if(Kameleoon.API.Visitor.experimentLegalConsent){var n=e.detail.experiment||e.detail.personalization;if(window.morganKameleoonExperimentsProcessed=window.morganKameleoonExperimentsProcessed||[],-1===window.morganKameleoonExperimentsProcessed.indexOf(n.id)){window.morganKameleoonExperimentsProcessed.push(n.id);var t=n.associatedVariation;"function"==typeof window.tc_ATinternet_ConsentMode&&window.tc_ATinternet_ConsentMode(window.ATTag),window.ATTag.mvTesting.set({test:n.id+"["+n.name+"]",waveId:n.id,creation:t.id+"["+(e.detail.personalization?"perso":t.name)+"]"}),window.ATTag.dispatch(),bddfTms.trackEvent(this,"experiment_activated",{experiment_id:n.id,experiment_name:n.name,experiment_variation_id:t.id,experiment_variation_name:t.name,experiment_type:e.detail.experiment?"abtest":"personalization"}),window.bddfTms.getInternalStatus()===window.bddfTms.INTERNAL_TRAFFIC_TECHNICAL&&console.log("[CRO] Evnement : \'Dclenchement test\' || Nom du test : \'"+n.name+"\' || Nom de la variante : \'"+(e.detail.personalization?"perso":t.name)+"\'")}}}else setTimeout((function(){kameleoonAtMvtFunction(e)}),250)},Kameleoon.API.Utils.addEventListener(window,"Kameleoon::ExperimentActivated",(function(e){kameleoonAtMvtFunction(e)})),Kameleoon.API.Utils.addEventListener(window,"Kameleoon::PersonalizationActivated",(function(e){kameleoonAtMvtFunction(e)})),Kameleoon.API.Utils.setTimeout((()=>{Kameleoon.API.Core.runWhenElementPresent(window.innerWidth>=769?"#tch_sticky-bar .tch_sticky-bar .tch_sticky-bar_icon[aria-label=\'Nous vous rappelons\']":"#interactWrapper .interact-layout #interact-fab button[aria-label=\'Ouvrir la fentre de tchat\']",(()=>{Kameleoon.API.Events.trigger("2 seconds and element present")}),200)}),2e3),window.BddfKameleoon={replaceClass:function(e,n,t){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.classList.remove(n),e.classList.add(t)}))}))},switchElements:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(t){Kameleoon.API.Core.runWhenElementPresent(n,(function(n){var t=document.querySelector(e);t&&n[0]&&(t.after(n[0].cloneNode(!0)),n[0].after(t),n[0].remove())}))}))},insertBefore:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(t){Kameleoon.API.Core.runWhenElementPresent(n,(function(n){var t=document.querySelector(e);t&&n[0]&&t.parentNode.insertBefore(n[0],t)}))}))},insertAfter:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(t){Kameleoon.API.Core.runWhenElementPresent(n,(function(n){var t=document.querySelector(e);t&&n[0]&&t.after(n[0])}))}))},setText:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.innerHTML=n}))}))},appendText:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.innerHTML+=n}))}))},setHref:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.setAttribute("href",n)}))}))},setSrc:function(e,n){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.setAttribute("src",n)}))}))},showElements:function(e){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.classList.remove("abtest-hidden")}))}))},removeElements:function(e){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e.forEach((function(e){e.remove()}))}))},click:function(e){Kameleoon.API.Core.runWhenElementPresent(e,(function(e){e[0].click()}))},trackElementsVisibility:function(e){window.addEventListener("scroll",(function(n){Kameleoon.API.Core.runWhenElementPresent(\'[id*="abt-visibility-"]\',(function(n){n.forEach((function(n){if(!n.getAttribute("abt-visibility-tracked")){var t=window.innerHeight||document.documentElement.clientHeight,o=Math.min(t,n.offsetHeight);if(window.scrollY+t>=n.offsetTop+o*e/(e<=1?1:100)&&n.offsetTop+n.offsetHeight>window.scrollY){var i=n.getAttribute("id");console.log("*** BLOCK "+i+" VISIBLE"),n.setAttribute("abt-visibility-tracked","true"),bddfTms.trackEvent(this,"scroll_section",{event_name:i})}}}))}))}))}};try{var kameleoonEventsTracker=[{id:309703,selector:"#sdcWrapper > div > div:nth-child(2) > div:nth-child(2) > button.stl_btn.stl_btn--primary"},{id:312026,selector:"#sdcWrapper > section > section.stl_layout.SGLayoutStyled-sc-137s6yd-0.jyzump.stl_layout--background > section"}],createEventTracking=function(e,n){for(var t,o=function(e){Kameleoon.Internals.runtime.touchMoveEvent||Kameleoon.API.Goals.processConversion(n.id)},i=0;i<e.length;++i)t=e[i],Kameleoon.Utils.addEventListener(t,Kameleoon.Internals.runtime.mouseDownEvent,o,!0)},kameleoonTimeoutId=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(kameleoonTimeoutId),kameleoonEventsTracker.forEach((e=>{Kameleoon.API.Core.runWhenElementPresent(e.selector,(n=>{createEventTracking(n,e)}),null,Kameleoon.Internals.runtime.singlePageSupport||Kameleoon.Internals.runtime.dynamicRefresh)}))}),250)}catch(e){console.log("An error occurred in your custom JavaScript Kameleoon tracking function, please check your code."),console.log(e,e.message)}',track:!0,trackerExcludedIPRanges:[],Gatherer:"eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZGlyZWN0Tm9uZVJlZmVycmVyT25seUZpcnN0IjpmYWxzZSwiYnJvd3NlcnMiOnsiMCI6eyJuYW1lIjoiQ0hST01FIn0sIjEiOnsibmFtZSI6IkVYUExPUkVSIn0sIjIiOnsibmFtZSI6IkZJUkVGT1gifSwiMyI6eyJuYW1lIjoiU0FGQVJJIn0sIjQiOnsibmFtZSI6Ik9QRVJBIn19LCJvc3MiOnsiMCI6eyJuYW1lIjoiV0lORE9XUyJ9LCIxIjp7Im5hbWUiOiJNQUMifSwiMiI6eyJuYW1lIjoiSU9TIn0sIjMiOnsibmFtZSI6IkxJTlVYIn0sIjQiOnsibmFtZSI6IkFORFJPSUQifSwiNSI6eyJuYW1lIjoiV0lORE9XUyBQSE9ORSJ9fSwibm9SZWZlcnJlclBhZ2VzIjpbXSwicmVmZXJyZXJzIjp7IjAiOnsibmFtZSI6Ikdvb2dsZSBBZFdvcmRzIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7Im1ldGhvZCI6MCwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6Il4uK1xcLmdvb2dsZShcXC5jb20/KT9cXC5bXi9cXC5dKy9hY2xrKFtcXD8mI10uKnwpJCJ9LHsibWV0aG9kIjoxLCJhbmQiOmZhbHNlLCJwYXJhbWV0ZXJzIjoiW1xcPyYjXWdjbGlkPSJ9XX0sIjEiOnsibmFtZSI6Ikdvb2dsZSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJtZXRob2QiOjAsImFuZCI6ZmFsc2UsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvKD8hYWNsa3xpbWdyZXMpLipbXFw/JiNdcT0uKihbXFw/JiNdLip8KSQifSx7Im1ldGhvZCI6MCwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6Il4uK1xcLmdvb2dsZShcXC5jb20/KT9cXC5bXi9cXC5dKy8/JCJ9XX0sIjIiOnsibmFtZSI6IkJpbmcgT3JnYW5pYyBTZWFyY2giLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3sibWV0aG9kIjowLCJhbmQiOmZhbHNlLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmluZ1xcLlteL1xcLl0rLy4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn1dfSwiMyI6eyJuYW1lIjoiWWFob28gT3JnYW5pYyBTZWFyY2giLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3sibWV0aG9kIjowLCJhbmQiOmZhbHNlLCJwYXJhbWV0ZXJzIjoiXi4rXFwueWFob29cXC5bXi9cXC5dKy8uKltcXD8mI11wPS4qKFtcXD8mI10uKnwpJCJ9XX0sIjQiOnsibmFtZSI6IkJhaWR1IE9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7Im1ldGhvZCI6MCwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6Il4uK1xcLmJhaWR1XFwuW14vXFwuXSsvLipbXFw/JiNdd2Q9LiooW1xcPyYjXS4qfCkkIn1dfX0sImtleVBhZ2VzIjp7fSwiY3VzdG9tRGF0YSI6eyIxIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJwYWdlX25hbWUiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjIiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImVudl9jaGFubmVsIiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIzIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJlbnZfbWFya2V0IiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI0Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJlbnZfd29yayIsImZvcm1hdCI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn0sIjUiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImVudl9pc19wcml2YXRlIiwiZm9ybWF0IjotMiwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI2Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJwYWdlX3R5cGUiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjciOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InVzZXJfaXNfbG9nZ2VkIiwiZm9ybWF0IjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI4Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJ1c2VyX2lzX2lkZW50aWZpZWQiLCJmb3JtYXQiOi0yLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIn0sIjkiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImV2ZW50X25hbWUiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjEwIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJqb3VybmV5X01SQSIsImZvcm1hdCI6LTIsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn0sIjExIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJqb3VybmV5X0hSTSIsImZvcm1hdCI6LTIsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn0sIjEyIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJwYWdlX2N1cnJlbnRhdCIsImZvcm1hdCI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifX19",isNewEditorEnabled:!0}}}(),window.kameleoonLightIframe?window.kameleoonExternalIFrameLoadedData&&(window.kameleoonQueue=window.kameleoonQueue||[],window.kameleoonQueue.push({level:"IMMEDIATE",command:function(){Kameleoon.Utils.runProtectedScript(window.kameleoonExternalIFrameLoadedData)}}),Kameleoon.Analyst.load()):Kameleoon.Analyst.load());